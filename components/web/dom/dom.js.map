{"version":3,"file":"dom.js","sources":["dom.ts"],"sourcesContent":["type ParseWrapper = [number, string, string];\r\nvar parseFix: { [name: string]: ParseWrapper };\r\nvar parseContainer: Element;\r\n\r\n/**\r\n * 解析一段 HTML 并创建相应的节点。\r\n * @param html 要解析的 HTML 片段。\r\n * @param context 节点所属的文档。\r\n * @return 返回创建的节点。如果 HTML 片段中有多个根节点，则返回一个文档片段。\r\n */\r\nexport function parse(html: string, context = document) {\r\n    if (!parseFix) {\r\n        const select: ParseWrapper = [1, `<select multiple=\"multiple\">`, `</select>`];\r\n        const table: ParseWrapper = [1, `<table>`, `</table>`];\r\n        const tr: ParseWrapper = [3, `<table><tbody><tr>`, `</tr></tbody></table>`];\r\n        parseFix = {\r\n            __proto__: null!,\r\n            option: select,\r\n            optgroup: select,\r\n            thead: table,\r\n            tbody: table,\r\n            tfoot: table,\r\n            caption: table,\r\n            colgroup: table,\r\n            tr: [2, `<table><tbody>`, `</tbody></table>`],\r\n            col: [2, `<table><tbody></tbody><colgroup>`, `</colgroup></table>`],\r\n            td: tr,\r\n            th: tr,\r\n            legend: [1, `<fieldset>`, `</fieldset>`],\r\n            area: [1, `<map>`, `</map>`],\r\n            param: [1, `<object>`, `</object>`]\r\n        };\r\n        parseContainer = document.createElement(\"div\");\r\n    }\r\n    let container = context === document ? parseContainer : context.createElement(\"div\");\r\n    const match = /^<(\\w+)/.exec(html);\r\n    const wrapper = match && parseFix[match[1].toLowerCase()];\r\n    if (wrapper) {\r\n        container.innerHTML = wrapper[1] + html + wrapper[2];\r\n        for (let level = wrapper[0]; level--; container = container.lastChild as Element);\r\n    } else {\r\n        container.innerHTML = html;\r\n    }\r\n    let r = container.firstChild || context.createTextNode(html);\r\n    if (r.nextSibling) {\r\n        r = context.createDocumentFragment();\r\n        while (container.firstChild) {\r\n            r.appendChild(container.firstChild);\r\n        }\r\n    }\r\n    return r as HTMLElement | Text | DocumentFragment;\r\n}\r\n\r\n/**\r\n * 在指定节点范围内查找 CSS 选择器匹配的所有元素。\r\n * @param parent 要查找的根节点。\r\n * @param selector 要查找的 CSS 选择器。\r\n * @return 返回匹配的元素列表。\r\n */\r\nexport function query(parent: Element | Document | NodeSelector, selector: string): HTMLElement[];\r\n\r\n/**\r\n * 在整个文档内查找 CSS 选择器匹配的所有元素。\r\n * @param selector 要查找的 CSS 选择器。\r\n * @return 返回匹配的元素列表。\r\n */\r\nexport function query(selector: string): HTMLElement[];\r\n\r\nexport function query(parent: Element | Document | NodeSelector | string, selector?: string) {\r\n    return Array.prototype.slice.call(querySelector(parent, selector), 0);\r\n}\r\n\r\n/**\r\n * 在指定节点范围内查找 CSS 选择器匹配的第一个元素。\r\n * @param parent 要查找的根节点。\r\n * @param selector 要查找的 CSS 选择器。\r\n * @return 返回匹配的第一个元素。如果找不到则返回 null。\r\n */\r\nexport function find(parent: Element | Document | NodeSelector, selector: string): HTMLElement | null;\r\n\r\n/**\r\n * 在整个文档内查找 CSS 选择器匹配的第一个元素。\r\n * @param selector 要查找的 CSS 选择器。\r\n * @return 返回匹配的第一个元素。如果找不到则返回 null。\r\n */\r\nexport function find(selector: string): HTMLElement | null;\r\n\r\nexport function find(parent: Element | Document | NodeSelector | string, selector?: string) {\r\n    return querySelector(parent, selector, true);\r\n}\r\n\r\nvar idSeed: number | undefined;\r\n\r\nfunction querySelector(parent: Element | Document | NodeSelector | string, selector?: string, first?: boolean) {\r\n    if (typeof parent === \"string\") {\r\n        selector = parent;\r\n        parent = document;\r\n    }\r\n    try {\r\n        return first ? parent.querySelector(selector!) : parent.querySelectorAll(selector!);\r\n    } catch (e) {\r\n        if ((parent as Node).nodeType === 1 && selector!.charCodeAt(0) === 62/*>*/) {\r\n            let idCreated: boolean | undefined;\r\n            selector = `#${(parent as Element).id || (idCreated = true, (parent as Element).id = \"__dom_q\" + (idSeed = idSeed! + 1 || 1) + \"__\")} ${selector}`;\r\n            try {\r\n                return first ? parent.querySelector(selector) : parent.querySelectorAll(selector);\r\n            } catch (e) {\r\n            } finally {\r\n                if (idCreated) {\r\n                    (parent as Element).id = \"\";\r\n                }\r\n            }\r\n        }\r\n        throw e;\r\n    }\r\n}\r\n\r\n/**\r\n * 判断元素是否匹配指定的 CSS 选择器。\r\n * @param elem 元素。\r\n * @param selector 要判断的 CSS 选择器。\r\n * @param context 选择器的上下文。\r\n * @return 如果匹配则返回 true，否则返回 false。\r\n * @example match(document.body, \"body\") // true\r\n */\r\nexport function match(elem: Element, selector: string, context?: Element | Document | null): boolean {\r\n    if (elem.matches) {\r\n        try {\r\n            return elem.matches(selector);\r\n        } catch (e) { }\r\n    }\r\n    let parent = elem.parentNode as Element;\r\n    if (parent) {\r\n        return Array.prototype.indexOf.call(querySelector(context || parent, selector), elem) >= 0;\r\n    }\r\n    parent = elem.ownerDocument.documentElement;\r\n    try {\r\n        parent.appendChild(elem);\r\n        return match(elem, selector, context);\r\n    } finally {\r\n        parent.removeChild(elem);\r\n    }\r\n}\r\n\r\n/**\r\n * 获取节点的第一个子元素。\r\n * @param node 节点。\r\n * @param selector 用于筛选元素的 CSS 选择器。\r\n * @return 返回一个元素。如果元素不存在或不匹配指定的 CSS 选择器则返回 null。\r\n */\r\nexport function first(node: Node, selector?: string) {\r\n    return walk(node, selector, \"nextSibling\", \"firstChild\");\r\n}\r\n\r\n/**\r\n * 获取节点的最后一个子元素。\r\n * @param node 节点。\r\n * @param selector 用于筛选元素的 CSS 选择器。\r\n * @return 返回一个元素。如果元素不存在或不匹配指定的 CSS 选择器则返回 null。\r\n */\r\nexport function last(node: Node, selector?: string) {\r\n    return walk(node, selector, \"previousSibling\", \"lastChild\");\r\n}\r\n\r\n/**\r\n * 获取节点的下一个相邻元素。\r\n * @param node 节点。\r\n * @param selector 用于筛选元素的 CSS 选择器。\r\n * @return 返回一个元素。如果元素不存在或不匹配指定的 CSS 选择器则返回 null。\r\n */\r\nexport function next(node: Node, selector?: string) {\r\n    return walk(node, selector, \"nextSibling\");\r\n}\r\n\r\n/**\r\n * 获取节点的上一个相邻元素。\r\n * @param node 节点。\r\n * @param selector 用于筛选元素的 CSS 选择器。\r\n * @return 返回一个元素。如果元素不存在或不匹配指定的 CSS 选择器则返回 null。\r\n */\r\nexport function prev(node: Node, selector?: string) {\r\n    return walk(node, selector, \"previousSibling\");\r\n}\r\n\r\n/**\r\n * 获取节点的父元素。\r\n * @param node 节点。\r\n * @param selector 用于筛选元素的 CSS 选择器。\r\n * @return 返回一个元素。如果元素不存在或不匹配指定的 CSS 选择器则返回 null。\r\n */\r\nexport function parent(node: Node, selector?: string) {\r\n    return walk(node, selector, \"parentNode\");\r\n}\r\n\r\nfunction walk(node: Node | null, selector: string | undefined, nextProp: \"nextSibling\" | \"previousSibling\" | \"parentNode\", firstProp: typeof nextProp | \"firstChild\" | \"lastChild\" = nextProp) {\r\n    for (node = node![firstProp]; node; node = node[nextProp]) {\r\n        if (node.nodeType === 1 && (!selector || match(node as Element, selector))) {\r\n            break;\r\n        }\r\n    }\r\n    return node as HTMLElement | null;\r\n}\r\n\r\n/**\r\n * 从指定节点开始向父元素查找第一个匹配指定 CSS 选择器的元素。\r\n * @param node 节点。\r\n * @param selector 要匹配的 CSS 选择器。\r\n * @param context 如果提供了上下文则只在指定的元素范围内搜索，否则在整个文档查找。\r\n * @return 返回一个元素。如果找不到匹配的元素则返回 null。\r\n * @example closest(document.body, \"body\")\r\n */\r\nexport function closest(node: Node, selector: string, context?: Element | Document | null) {\r\n    while (node && node !== context && (node.nodeType !== 1 || !match(node as Element, selector, context))) {\r\n        node = node.parentNode!;\r\n    }\r\n    return node === context ? null : node as HTMLElement;\r\n}\r\n\r\n/**\r\n * 获取节点的所有直接子元素。\r\n * @param node 节点。\r\n * @param selector 用于筛选元素的 CSS 选择器。\r\n * @return 返回包含所有子元素的数组。\r\n */\r\nexport function children(node: Node, selector?: string) {\r\n    const r: HTMLElement[] = [];\r\n    for (node = node.firstChild!; node; node = node.nextSibling!) {\r\n        if (node.nodeType === 1 && (!selector || match(node as Element, selector))) {\r\n            r.push(node as HTMLElement);\r\n        }\r\n    }\r\n    return r;\r\n}\r\n\r\n/**\r\n * 判断节点是否包含另一个节点。\r\n * @param node 节点。\r\n * @param child 要判断的子节点。\r\n * @return 如果 *child* 同 *node* 或 *child* 是 *node* 的子节点则返回 true，否则返回 false。\r\n * @example contains(document.body, document.body) // true\r\n */\r\nexport function contains(node: Node, child: Node) {\r\n    if (node.contains) {\r\n        return node.contains(child);\r\n    }\r\n    for (; child; child = child.parentNode!) {\r\n        if (child === node) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * 获取节点在其父节点中的索引。\r\n * @param node 节点。\r\n * @return 返回从 0 开始的索引。计算时忽略元素以外的节点。如果没有父节点则返回 0。\r\n */\r\nexport function index(node: Node) {\r\n    let r = 0;\r\n    while ((node = node.previousSibling!)) {\r\n        if (node.nodeType === 1) {\r\n            r++;\r\n        }\r\n    }\r\n    return r;\r\n}\r\n\r\n/**\r\n * 在节点末尾插入一段 HTML 或一个节点。\r\n * @param node 节点。\r\n * @param content 要插入的 HTML 或节点。\r\n * @return 返回插入的新节点。\r\n */\r\nexport function append(node: Node, content: string | Node | null) {\r\n    return insert(node, content, false, false);\r\n}\r\n\r\n/**\r\n * 在节点开头插入一段 HTML 或一个节点。\r\n * @param node 节点。\r\n * @param content 要插入的 HTML 或节点。\r\n * @return 返回插入的新节点。\r\n */\r\nexport function prepend(node: Node, content: string | Node | null) {\r\n    return insert(node, content, true, false);\r\n}\r\n\r\n/**\r\n * 在节点前插入一段 HTML 或一个节点。\r\n * @param node 节点。该节点必须具有父节点。\r\n * @param content 要插入的 HTML 或节点。\r\n * @return 返回插入的新节点。\r\n */\r\nexport function before(node: Node, content: string | Node | null) {\r\n    return insert(node, content, true, true);\r\n}\r\n\r\n/**\r\n * 在节点后插入一段 HTML 或一个节点。\r\n * @param node 节点。该节点必须具有父节点。\r\n * @param content 要插入的 HTML 或节点。\r\n * @return 返回插入的新节点。\r\n */\r\nexport function after(node: Node, content: string | Node | null) {\r\n    return insert(node, content, false, true);\r\n}\r\n\r\nfunction insert(node: Node, content: string | Node | null, prepend: boolean, sibling: boolean) {\r\n    if (content == null) {\r\n        return null;\r\n    }\r\n    if (typeof content !== \"object\") {\r\n        content = parse(content, node.ownerDocument || node);\r\n    }\r\n    if (sibling) {\r\n        return node.parentNode!.insertBefore(content, prepend ? node : node.nextSibling) as HTMLElement;\r\n    }\r\n    return prepend ? node.insertBefore(content, node.firstChild) as HTMLElement : node.appendChild(content) as HTMLElement;\r\n}\r\n\r\n/**\r\n * 从文档中移除节点。\r\n * @param node 要移除的节点。\r\n */\r\nexport function remove(node: Node | null) {\r\n    node && node.parentNode && node.parentNode.removeChild(node);\r\n}\r\n\r\n/**\r\n * 复制节点。\r\n * @param node 要复制的节点。\r\n * @return 返回复制的新节点。\r\n */\r\nexport function clone<T extends Node>(node: T) {\r\n    return node.cloneNode(true) as T;\r\n}\r\n\r\n/**\r\n * 获取元素的属性值。\r\n * @param elem 元素。\r\n * @param attrName 要获取的属性名（使用骆驼规则，如 `readOnly`）。\r\n * @return 返回属性值。如果属性不存在则返回 null。\r\n * @example getAttr(document.body, \"class\")\r\n */\r\nexport function getAttr(elem: Element, attrName: string | keyof Element) {\r\n    return attrName in elem ? elem[attrName as keyof Element] as any : elem.getAttribute(attrName);\r\n}\r\n\r\n/**\r\n * 设置元素的属性值。\r\n * @param elem 元素。\r\n * @param attrName 要设置的属性名（使用骆驼规则，如 `readOnly`）。\r\n * @param value 要设置的属性值。设置为 null 表示删除属性。\r\n * @example setAttr(document.body, \"class\", \"red\")\r\n * @example setAttr(document.body, \"class\", null)\r\n */\r\nexport function setAttr(elem: Element, attrName: string | keyof Element, value: any) {\r\n    if (attrName in elem && (typeof value !== \"string\" || !/^on./.test(attrName)) || value != null && typeof value !== \"string\") {\r\n        if (value == null && typeof elem[attrName as keyof Element] === \"string\") {\r\n            value = \"\";\r\n        }\r\n        (elem as any)[attrName] = value;\r\n    } else if (value == null) {\r\n        elem.removeAttribute(attrName);\r\n    } else {\r\n        elem.setAttribute(attrName, value);\r\n    }\r\n}\r\n\r\n/**\r\n * 获取元素的文本内容。\r\n * @param elem 元素。\r\n * @return 返回文本内容。对于输入框则返回其输入值。\r\n * @example getText(document.body)\r\n */\r\nexport function getText(elem: Element) {\r\n    return (elem as HTMLInputElement)[textProp(elem)]!;\r\n}\r\n\r\n/**\r\n * 设置元素的文本内容。\r\n * @param elem 元素。\r\n * @param value 要设置的文本内容。对于输入框则设置其输入值。\r\n * @example setText(document.body, \"text\")\r\n */\r\nexport function setText(elem: Element, value: string) {\r\n    (elem as HTMLInputElement)[textProp(elem)] = value;\r\n}\r\n\r\nfunction textProp(elem: Element) {\r\n    return /^(INPUT|SELECT|TEXTAREA)$/.test(elem.tagName) ? \"value\" : \"textContent\";\r\n}\r\n\r\n/**\r\n * 获取元素的内部 HTML。\r\n * @param elem 元素。\r\n * @return 返回内部 HTML。\r\n * @example getHtml(document.body)\r\n */\r\nexport function getHtml(elem: Element) {\r\n    return elem.innerHTML;\r\n}\r\n\r\n/**\r\n * 设置元素的内部 HTML。\r\n * @param elem 元素。\r\n * @param value 要设置的内部 HTML。\r\n * @example setHtml(document.body, \"html\")\r\n */\r\nexport function setHtml(elem: Element, value: string) {\r\n    elem.innerHTML = value;\r\n}\r\n\r\n/**\r\n * 判断元素是否已添加指定的 CSS 类名。\r\n * @param elem 元素。\r\n * @param className 要判断的 CSS 类名（只能有一个）。\r\n * @return 如果已添加则返回 true，否则返回 false。\r\n */\r\nexport function hasClass(elem: Element, className: string) {\r\n    return (\" \" + elem.className + \" \").indexOf(\" \" + className + \" \") >= 0;\r\n}\r\n\r\n/**\r\n * 添加元素的 CSS 类名。\r\n * @param elem 元素。\r\n * @param className 要添加的 CSS 类名（只能有一个）。\r\n * @example addClass(document.body, \"light\")\r\n */\r\nexport function addClass(elem: Element, className: string) {\r\n    toggleClass(elem, className, true);\r\n}\r\n\r\n/**\r\n * 删除元素的 CSS 类名。\r\n * @param elem 元素。\r\n * @param className 要删除的 CSS 类名（只能有一个）。\r\n * @example removeClass(document.body, \"light\")\r\n */\r\nexport function removeClass(elem: Element, className: string) {\r\n    toggleClass(elem, className, false);\r\n}\r\n\r\n/**\r\n * 如果存在（不存在）则删除（添加）元素的 CSS 类名。\r\n * @param elem 元素。\r\n * @param className 要添加或删除的 CSS 类名（只能有一个）。\r\n * @param value 如果为 true 则强制添加 CSS 类名，如果为 false 则强制删除 CSS 类名。\r\n * @example toggleClass(document.body, \"light\")\r\n */\r\nexport function toggleClass(elem: Element, className: string, value?: boolean) {\r\n    if (hasClass(elem, className)) {\r\n        if (!value) {\r\n            elem.className = (\" \" + elem.className + \" \").replace(\" \" + className + \" \", \" \").trim();\r\n        }\r\n    } else if (value === undefined || value) {\r\n        elem.className = elem.className ? elem.className + \" \" + className : className;\r\n    }\r\n}\r\n\r\n/**\r\n * 为指定的 CSS 属性添加当前浏览器特定的后缀（如 \"webkit-\")。\r\n * @param propName CSS 属性名。\r\n * @return 返回已添加后缀的 CSS 属性名。\r\n * @example vendor(\"transform\")\r\n */\r\nexport function vendor(propName: string) {\r\n    if (!(propName in document.documentElement.style)) {\r\n        const capName = propName.charAt(0).toUpperCase() + propName.slice(1);\r\n        for (const prefix of [\"webkit\", \"Moz\", \"ms\", \"O\"]) {\r\n            if ((prefix + capName) in document.documentElement.style) {\r\n                return prefix + capName;\r\n            }\r\n        }\r\n    }\r\n    return propName;\r\n}\r\n\r\n/**\r\n * 获取元素的实际 CSS 属性值。\r\n * @param elem 元素。\r\n * @param propName 要获取的 CSS 属性名（使用骆驼规则，如 \"fontSize\"）。\r\n * @return 返回计算后的 CSS 属性值。\r\n * @example getStyle(document.body, \"fontSize\")\r\n */\r\nexport function getStyle(elem: Element, propName: string) {\r\n    return elem.ownerDocument.defaultView.getComputedStyle(elem)[vendor(propName) as any];\r\n}\r\n\r\n/**\r\n * 设置元素的 CSS 属性值。\r\n * @param elem 元素。\r\n * @param propName 要设置的 CSS 属性名（使用骆驼规则，如 \"fontSize\"）。\r\n * @param value 要设置的 CSS 属性值。如果是数字则自动追加像素单位。\r\n * @example setStyle(document.body, \"fontSize\")\r\n */\r\nexport function setStyle(elem: HTMLElement, propName: string, value: string | number) {\r\n    elem.style[vendor(propName) as any] = value && typeof value === \"number\" && !/^(?:columnCount|fillOpacity|flexGrow|flexShrink|fontWeight|lineHeight|opacity|order|orphans|widows|zIndex|zoom)$/.test(propName) ? value + \"px\" : value as any;\r\n}\r\n\r\n/**\r\n * 计算一个元素的样式值。\r\n * @param elem 要计算的元素。\r\n * @param propNames 要计算的 CSS 属性名（使用骆驼规则，如 `fontSize`）列表。\r\n * @return 返回所有 CSS 属性值的和。\r\n * @example computeStyle(document.body, \"fontSize\", \"lineHeight\")\r\n */\r\nexport function computeStyle(elem: Element, ...propNames: string[]) {\r\n    let r = 0;\r\n    const computedStyle = elem.ownerDocument.defaultView.getComputedStyle(elem);\r\n    for (const prop of propNames) {\r\n        r += parseFloat(computedStyle[prop as any]) || 0;\r\n    }\r\n    return r;\r\n}\r\n\r\n/**\r\n * 表示一个坐标。\r\n */\r\nexport interface Point {\r\n\r\n    /**\r\n     * 相对于屏幕左上角的水平距离（单位为像素）。\r\n     */\r\n    x: number;\r\n\r\n    /**\r\n     * 相对于屏幕左上角的垂直距离（单位为像素）。\r\n     */\r\n    y: number;\r\n\r\n}\r\n\r\n/**\r\n * 表示一个大小。\r\n */\r\nexport interface Size {\r\n\r\n    /**\r\n     * 宽度（单位为像素）。\r\n     */\r\n    width: number;\r\n\r\n    /**\r\n     * 高度（单位为像素）。\r\n     */\r\n    height: number;\r\n\r\n}\r\n\r\n/**\r\n * 表示一个矩形区域。\r\n */\r\nexport interface Rect extends Point, Size { }\r\n\r\n/**\r\n * 获取元素的滚动距离。\r\n * @param elem 元素或文档。\r\n * @return 返回坐标。如果元素不可滚动则返回原点。\r\n * @example getScroll(document.body)\r\n */\r\nexport function getScroll(elem: Element | Document) {\r\n    if (elem.nodeType === 9) {\r\n        const win = (elem as Document).defaultView;\r\n        if (\"pageXOffset\" in win) {\r\n            return {\r\n                x: win.pageXOffset,\r\n                y: win.pageYOffset\r\n            } as Point;\r\n        }\r\n        elem = (elem as Document).documentElement;\r\n    }\r\n    return {\r\n        x: (elem as Element).scrollLeft,\r\n        y: (elem as Element).scrollTop\r\n    } as Point;\r\n}\r\n\r\n/**\r\n * 设置元素的滚动距离。\r\n * @param elem 元素或文档。\r\n * @param value 要设置的坐标。允许只设置部分属性。\r\n * @example setScroll(document.body, { x: 100, y: 500 });\r\n */\r\nexport function setScroll(elem: Element | Document, value: Partial<Point>) {\r\n    if (elem.nodeType === 9) {\r\n        (elem as Document).defaultView.scrollTo(\r\n            (value.x == null ? getScroll(elem) : value).x,\r\n            (value.y == null ? getScroll(elem) : value).y\r\n        );\r\n    } else {\r\n        if (value.x != null) (elem as Element).scrollLeft = value.x;\r\n        if (value.y != null) (elem as Element).scrollTop = value.y;\r\n    }\r\n}\r\n\r\n/**\r\n * 获取元素和其定位父元素的偏移距离。\r\n * @param elem 元素。\r\n * @return 返回坐标。如果元素未设置定位信息则返回原点。\r\n * @example getOffset(document.body)\r\n */\r\nexport function getOffset(elem: HTMLElement) {\r\n    const left = getStyle(elem, \"left\");\r\n    const top = getStyle(elem, \"top\");\r\n    if ((left && top && left !== \"auto\" && top !== \"auto\") || getStyle(elem, \"position\") !== \"absolute\") {\r\n        return {\r\n            x: parseFloat(left) || 0,\r\n            y: parseFloat(top) || 0\r\n        } as Point;\r\n    }\r\n    const parent = offsetParent(elem);\r\n    const rect = getRect(elem);\r\n    if (parent.nodeName !== \"HTML\") {\r\n        const rootRect = getRect(parent);\r\n        rect.x -= rootRect.x;\r\n        rect.y -= rootRect.y;\r\n    }\r\n    rect.x -= computeStyle(elem, \"marginLeft\") + computeStyle(parent, \"borderLeftWidth\");\r\n    rect.y -= computeStyle(elem, \"marginTop\") + computeStyle(parent, \"borderTopWidth\");\r\n    return rect as Point;\r\n}\r\n\r\n/**\r\n * 设置元素和其定位父元素的偏移距离。\r\n * @param elem 元素。\r\n * @param value 要设置的坐标。允许只设置部分属性。\r\n * @example setOffset(document.body, { x: 100 });\r\n */\r\nexport function setOffset(elem: HTMLElement, value: Partial<Point>) {\r\n    if (value.x! >= 0) {\r\n        elem.style.left = value.x + \"px\";\r\n    }\r\n    if (value.y! >= 0) {\r\n        elem.style.top = value.y + \"px\";\r\n    }\r\n}\r\n\r\n/**\r\n * 获取元素的定位父元素。\r\n * @param elem 元素。\r\n * @return 返回定位父元素。\r\n * @example offsetParent(document.body)\r\n */\r\nexport function offsetParent(elem: HTMLElement) {\r\n    let r = elem;\r\n    while ((r = r.offsetParent as HTMLElement) && r.nodeName !== \"HTML\" && getStyle(r, \"position\") === \"static\");\r\n    return r || elem.ownerDocument.documentElement;\r\n}\r\n\r\n/**\r\n * 获取元素的区域。\r\n * @param elem 元素或文档。\r\n * @return 返回元素实际占用区域（含内边距和边框、不含外边距）。如果元素不可见则返回空区域。\r\n * @example getRect(document.body)\r\n */\r\nexport function getRect(elem: Element | Document) {\r\n    const doc = elem.ownerDocument || elem;\r\n    const html = doc.documentElement;\r\n    const r = getScroll(doc) as Rect;\r\n    if (elem.nodeType === 9) {\r\n        r.width = html.clientWidth;\r\n        r.height = html.clientHeight;\r\n    } else {\r\n        const rect = (elem as Element).getBoundingClientRect();\r\n        r.x += rect.left - html.clientLeft;\r\n        r.y += rect.top - html.clientTop;\r\n        r.width = rect.width;\r\n        r.height = rect.height;\r\n    }\r\n    return r;\r\n}\r\n\r\n/**\r\n * 设置元素的区域。\r\n * @param elem 元素。\r\n * @param value 要设置的区域内容（含内边距和边框、不含外边距）。允许只设置部分属性。\r\n * @example setRect(document.body, {width: 200, height: 400})\r\n */\r\nexport function setRect(elem: HTMLElement, value: Partial<Rect>) {\r\n    const style = elem.style;\r\n    if (value.x != null || value.y != null) {\r\n        movable(elem);\r\n        const currentPosition = getRect(elem);\r\n        const offset = getOffset(elem);\r\n        if (value.y != null) {\r\n            style.top = offset.y + value.y - currentPosition.y + \"px\";\r\n        }\r\n        if (value.x != null) {\r\n            style.left = offset.x + value.x - currentPosition.x + \"px\";\r\n        }\r\n    }\r\n    if (value.width != null || value.height != null) {\r\n        const boxSizing = getStyle(elem, \"boxSizing\") === \"border-box\";\r\n        if (value.width != null) {\r\n            style.width = value.width - (boxSizing ? 0 : computeStyle(elem, \"borderLeftWidth\", \"borderRightWidth\", \"paddingLeft\", \"paddingRight\")) + \"px\";\r\n        }\r\n        if (value.height != null) {\r\n            style.height = value.height - (boxSizing ? 0 : computeStyle(elem, \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\")) + \"px\";\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 确保指定的元素可移动。\r\n * @param elem 元素。\r\n */\r\nexport function movable(elem: HTMLElement) {\r\n    if (!/^(?:abs|fix)/.test(getStyle(elem, \"position\"))) {\r\n        elem.style.position = \"relative\";\r\n    }\r\n}\r\n\r\ninterface EventFix {\r\n\r\n    /**\r\n     * 实际绑定的事件。\r\n     */\r\n    bind?: string;\r\n\r\n    /**\r\n     * 委托时实际绑定的事件。\r\n     */\r\n    delegate?: string;\r\n\r\n    /**\r\n     * 实际绑定的事件触发后筛选是否触发当前事件的过滤器。\r\n     */\r\n    filter?: (this: EventFix, e: Event, elem: Element | Document) => boolean | void;\r\n\r\n    /**\r\n     * 自定义绑定事件的函数。\r\n     */\r\n    add?: (this: EventFix, elem: Element | Document, eventHandler: EventListener, eventOptions: AddEventListenerOptions | boolean) => void;\r\n\r\n    /**\r\n     * 自定义解绑事件的函数。\r\n     */\r\n    remove?: (this: EventFix, elem: Element | Document, eventHandler: EventListener, eventOptions: AddEventListenerOptions | boolean) => void;\r\n\r\n}\r\nvar eventFix: { [event: string]: EventFix };\r\nvar defaultEventOptions: false | AddEventListenerOptions = false;\r\n\r\n/**\r\n * 绑定事件。\r\n * @param elem 元素或文档。\r\n * @param eventName 要绑定的事件名。\r\n * @param selector 要委托的目标元素的 CSS 选择器。\r\n * @param eventHandler 要绑定的事件处理函数。\r\n * @param thisArg 执行事件处理函数时 this 的值。\r\n * @param eventOptions 事件附加选项。\r\n * @example on(document.body, \"mouseenter\", \"a\", function(e){ this.firstChild.innerHTML = e.pageX; })\r\n */\r\nexport function on(elem: Element | Document | Window, eventName: string, selector: string, eventHandler: (e: Event, sender: HTMLElement) => void, thisArg?: any, eventOptions?: AddEventListenerOptions): void;\r\n\r\n/**\r\n * 绑定事件。\r\n * @param elem 元素或文档。\r\n * @param eventName 要绑定的事件名。\r\n * @param eventHandler 要绑定的事件处理函数。\r\n * @param thisArg 执行事件处理函数时 this 的值。\r\n * @param eventOptions 事件附加选项。\r\n * @example on(document.body, \"click\", e => { alert(\"点击事件\") })\r\n */\r\nexport function on(elem: Element | Document | Window, eventName: string, eventHandler: (e: Event, sender: any) => void, thisArg?: any, eventOptions?: AddEventListenerOptions): void;\r\n\r\nexport function on(elem: Element | Document, eventName: string, selector: string | typeof eventHandler, eventHandler?: ((e: Event, sender?: any) => void) | typeof thisArg, thisArg?: any, eventOptions?: any) {\r\n    if (!eventFix) {\r\n        // 检测是否支持 {passive: true}。\r\n        const opt = {\r\n            get passive() {\r\n                defaultEventOptions = { passive: false };\r\n                return true;\r\n            }\r\n        } as any;\r\n        document.addEventListener(\"__passive__\", null!, opt);\r\n        document.removeEventListener(\"__passive__\", null!, opt);\r\n\r\n        const isEnterOrLeave = (e: MouseEvent, sender: Element | Document) => e.type.length === 12 || e.type.length === 10 && e.type.charCodeAt(0) === 109 /*m*/ || !contains(sender, e.relatedTarget as Node);\r\n        eventFix = {\r\n            __proto__: null!,\r\n\r\n            // focus/blur 不支持冒泡，委托时使用 foucin/foucsout。\r\n            focus: { delegate: \"focusin\" },\r\n            blur: { delegate: \"focusout\" },\r\n\r\n            // mouseenter/mouseleave 不支持冒泡，委托时使用 mouseover/mouseout。\r\n            mouseenter: { delegate: \"mouseover\", filter: isEnterOrLeave },\r\n            mouseleave: { delegate: \"mouseout\", filter: isEnterOrLeave },\r\n\r\n            // pointerenter/pointerleave 不支持冒泡，委托时使用 pointerover/pointerout。\r\n            pointerenter: { delegate: \"pointerover\", filter: isEnterOrLeave },\r\n            pointerleave: { delegate: \"pointerout\", filter: isEnterOrLeave }\r\n        };\r\n\r\n        if ((window as any).mozInnerScreenX !== undefined) {\r\n            // FF 51-：不支持 focusin/focusout 事件。\r\n            const focusAdd: EventFix[\"add\"] = function (elem, eventHandler) {\r\n                elem.addEventListener(this.bind!, eventHandler, true);\r\n            };\r\n            const focusRemove: EventFix[\"remove\"] = function (elem, eventHandler) {\r\n                elem.removeEventListener(this.bind!, eventHandler, true);\r\n            };\r\n            eventFix.focusin = {\r\n                bind: \"focus\",\r\n                add: focusAdd,\r\n                remove: focusRemove\r\n            };\r\n            eventFix.focusout = {\r\n                bind: \"blur\",\r\n                add: focusAdd,\r\n                remove: focusRemove\r\n            };\r\n\r\n            // FF：右击也会触发 click 事件。\r\n            eventFix.click = {\r\n                filter: (e: MouseEvent) => !e.button\r\n            };\r\n        }\r\n\r\n        const html = Document.prototype;\r\n\r\n        // FF：不支持 mousewheel 事件。\r\n        if (!(\"onmousewheel\" in html)) {\r\n            eventFix.mousewheel = {\r\n                bind: \"DOMMouseScroll\",\r\n                filter(e: MouseWheelEvent) {\r\n                    // 统一使用 wheelDelta 获取滚轮距离。\r\n                    (e as any).wheelDelta = -(e.detail || 0) / 3;\r\n                }\r\n            };\r\n        }\r\n\r\n        // FF、CH 30-：不支持 mouseenter/mouseleave 事件。\r\n        if (!(\"onmouseenter\" in html)) {\r\n            eventFix.mouseenter.bind = \"mouseover\";\r\n            eventFix.mouseleave.bind = \"mouseout\";\r\n        }\r\n\r\n        // 低版本浏览器：不支持 auxclick 事件。\r\n        if (!(\"onauxclick\" in html)) {\r\n            eventFix.auxclick = {\r\n                bind: \"mouseup\",\r\n                filter: (e: MouseEvent) => e.button === 2\r\n            };\r\n        }\r\n\r\n        // 低版本浏览器：不支持 pointer* 事件。\r\n        if (!(\"onpointerdown\" in html)) {\r\n            eventFix.pointerover = { bind: \"mouseover\" };\r\n            eventFix.pointerout = { bind: \"mouseout\" };\r\n            eventFix.pointerenter.bind = eventFix.mouseenter.bind || \"mouseenter\";\r\n            eventFix.pointerenter.delegate = \"mouseover\";\r\n            eventFix.pointerleave.bind = eventFix.mouseleave.bind || \"mouseleave\";\r\n            eventFix.pointerleave.delegate = \"mouseout\";\r\n            eventFix.pointerdown = { bind: \"mousedown\" };\r\n            eventFix.pointerup = { bind: \"mouseup\" };\r\n            eventFix.pointermove = { bind: \"mousemove\" };\r\n        }\r\n\r\n        // 触屏：适配鼠标事件。\r\n        if ((window as any).TouchEvent) {\r\n\r\n            // 将触摸事件模拟成鼠标事件。\r\n            Object.defineProperty(TouchEvent.prototype, \"button\", {\r\n                value: 1,\r\n                configurable: true,\r\n                enumerable: true\r\n            });\r\n            for (const prop of [\"pageX\", \"pageY\", \"clientX\", \"clientY\", \"screenX\", \"screenY\"]) {\r\n                Object.defineProperty(TouchEvent.prototype, prop, {\r\n                    get(this: TouchEvent) {\r\n                        return (this.changedTouches[0] as any)[prop];\r\n                    },\r\n                    configurable: true,\r\n                    enumerable: true\r\n                });\r\n            }\r\n\r\n            eventFix.click = {\r\n                add(elem, eventHandler) {\r\n                    let state: any = 0;\r\n                    elem.addEventListener(\"touchstart\", (eventHandler as any).__touchStart__ = (e: TouchEvent) => {\r\n                        if (e.changedTouches.length === 1) {\r\n                            state = [e.changedTouches[0].pageX, e.changedTouches[0].pageY];\r\n                        }\r\n                    }, false);\r\n                    elem.addEventListener(\"touchend\", (eventHandler as any).__touchEnd__ = (e: TouchEvent) => {\r\n                        if (state && e.changedTouches.length === 1 && Math.pow(e.changedTouches[0].pageX - state[0], 2) + Math.pow(e.changedTouches[0].pageY - state[1], 2) < 25) {\r\n                            state = 1;\r\n                            eventHandler.call(elem, e);\r\n                        }\r\n                    }, false);\r\n                    elem.addEventListener(\"click\", (eventHandler as any).__click__ = (e: MouseEvent) => {\r\n                        const trigger = state !== 1;\r\n                        state = 0;\r\n                        trigger && eventHandler.call(elem, e);\r\n                    }, false);\r\n                },\r\n                remove(elem, eventHandler) {\r\n                    elem.removeEventListener(\"touchstart\", (eventHandler as any).__touchStart__, false);\r\n                    elem.removeEventListener(\"touchend\", (eventHandler as any).__touchEnd__, false);\r\n                    elem.removeEventListener(\"click\", (eventHandler as any).__click__, false);\r\n                }\r\n            };\r\n\r\n            const pointerAdd: EventFix[\"add\"] = function (elem, eventHandler, eventOptions: any) {\r\n                let state = 0;\r\n                elem.addEventListener((this as any).touch, (eventHandler as any).__touch__ = function (e: MouseEvent) {\r\n                    state = 1;\r\n                    eventHandler.call(this, e);\r\n                }, eventOptions);\r\n                elem.addEventListener(this.bind!, (eventHandler as any).__mouse__ = function (e: MouseEvent) {\r\n                    if (state) {\r\n                        state = 0;\r\n                    } else {\r\n                        eventHandler.call(this, e);\r\n                    }\r\n                }, eventOptions);\r\n            };\r\n            const pointerRemove: EventFix[\"remove\"] = function (elem, eventHandler, eventOptions: any) {\r\n                elem.removeEventListener((this as any).touch, (eventHandler as any).__touch__, eventOptions);\r\n                elem.removeEventListener(this.bind!, (eventHandler as any).__mouse__, eventOptions);\r\n            };\r\n            // CH: 虽然 Chrome 支持 pointer 事件，但如果调用了 e.preventDefault() 会导致 pointermove 无法触发。\r\n            eventFix.pointerdown = {\r\n                bind: \"mousedown\",\r\n                touch: \"touchstart\",\r\n                add: pointerAdd,\r\n                remove: pointerRemove\r\n            } as any;\r\n            // CH: 虽然 Chrome 支持 pointer 事件，但不支持 e.preventDefault()，改用 touch+mouse。\r\n            eventFix.pointermove = {\r\n                bind: \"mousemove\",\r\n                touch: \"touchmove\",\r\n                add: pointerAdd,\r\n                remove: pointerRemove\r\n            } as any;\r\n            eventFix.pointerup = {\r\n                bind: \"mouseup\",\r\n                touch: \"touchend\",\r\n                add(elem: Element | Document, eventHandler: EventListener, eventOptions: any) {\r\n                    pointerAdd.call(this, elem, eventHandler, eventOptions);\r\n                    elem.addEventListener(\"touchcancel\", (eventHandler as any).__touch__, eventOptions);\r\n                },\r\n                remove(elem: Element | Document, eventHandler: EventListener, eventOptions: any) {\r\n                    pointerRemove.call(this, elem, eventHandler, eventOptions);\r\n                    elem.removeEventListener(\"touchcancel\", (eventHandler as any).__touch__, eventOptions);\r\n                }\r\n            } as any;\r\n        }\r\n    }\r\n\r\n    if (typeof selector !== \"string\") {\r\n        eventOptions = thisArg;\r\n        thisArg = eventHandler;\r\n        eventHandler = selector;\r\n        selector = \"\";\r\n    }\r\n    thisArg = thisArg || elem;\r\n    if (!eventOptions || !defaultEventOptions) {\r\n        eventOptions = defaultEventOptions;\r\n    }\r\n\r\n    const events = (elem as any).__events__ || ((elem as any).__events__ = { __proto__: null! });\r\n    const key = selector ? eventName + \" \" + selector : eventName;\r\n    const eventHandlers = events[key];\r\n\r\n    const originalFix = eventFix[eventName] || 0;\r\n    const fix = selector && originalFix.delegate ? eventFix[eventName = originalFix.delegate] || 0 : originalFix;\r\n\r\n    // 如果满足以下任一情况，需要重新封装监听器。\r\n    // 1. 事件委托，需要重新定位目标元素。\r\n    // 2. 事件有特殊过滤器，仅在满足条件时触发。\r\n    // 3. 需要重写回调函数中的 this。\r\n    // 4. 监听器具有第二参数，需要重写回调函数的第二参数。\r\n    // 5. 监听器已添加函数，需要重新封装才能绑定成功。\r\n    if (selector || thisArg !== elem || fix.filter || eventHandler.length > 1 || eventHandlers && indexOfHandler(eventHandlers, eventHandler, thisArg) >= 0) {\r\n        const originalHandler = eventHandler;\r\n        eventHandler = selector ? (e: Event) => {\r\n            const sender = closest(e.target as Node, selector, elem);\r\n            if (!sender) {\r\n                return;\r\n            }\r\n            if (originalFix !== fix && originalFix.filter && originalFix.filter(e, sender) === false) {\r\n                return;\r\n            }\r\n            if (fix.filter && fix.filter(e, sender) === false) {\r\n                return;\r\n            }\r\n            originalHandler.call(thisArg, e, sender);\r\n        } : (e: Event) => {\r\n            if (fix.filter && fix.filter(e, elem) === false) {\r\n                return;\r\n            }\r\n            originalHandler.call(thisArg, e, thisArg);\r\n        };\r\n        eventHandler.__original__ = originalHandler;\r\n        eventHandler.__this__ = thisArg;\r\n    }\r\n\r\n    // 保存监听器以便之后解绑或手动触发事件。\r\n    if (!eventHandlers) {\r\n        events[key] = eventHandler;\r\n    } else if (Array.isArray(eventHandlers)) {\r\n        eventHandlers.push(eventHandler);\r\n    } else {\r\n        events[key] = [eventHandlers, eventHandler];\r\n    }\r\n\r\n    // 底层绑定事件。\r\n    if (fix.add) {\r\n        fix.add(elem, eventHandler, eventOptions);\r\n    } else {\r\n        elem.addEventListener(fix.bind || eventName, eventHandler, eventOptions);\r\n    }\r\n}\r\n\r\n/**\r\n * 解绑事件。\r\n * @param elem 元素或文档。\r\n * @param eventName 要解绑的事件名。\r\n * @param selector 要委托的目标元素的 CSS 选择器。\r\n * @param eventHandler 要解绑的事件处理函数。如果未提供则解绑所有监听器。\r\n * @param thisArg 执行事件处理函数时 this 的值。\r\n * @param eventOptions 事件附加选项。\r\n * @example off(document.body, \"mouseenter\", \"a\", function(e) { this.firstChild.innerHTML = e.pageX; })\r\n */\r\nexport function off(elem: Element | Document, eventName: string, selector: string, eventHandler?: (e: Event, sender: HTMLElement) => void, thisArg?: any, eventOptions?: AddEventListenerOptions): void;\r\n\r\n/**\r\n * 解绑事件。\r\n * @param elem 元素或文档。\r\n * @param eventName 要解绑的事件名。\r\n * @param eventHandler 要解绑的事件处理函数。如果未提供则解绑所有监听器。\r\n * @param thisArg 执行事件处理函数时 this 的值。\r\n * @param eventOptions 事件附加选项。\r\n * @example off(document.body, \"click\", e => { alert(\"点击事件\") })\r\n */\r\nexport function off(elem: Element | Document, eventName: string, eventHandler?: (e: Event, sender: any) => void, thisArg?: any, eventOptions?: AddEventListenerOptions): void;\r\n\r\nexport function off(elem: Element | Document, eventName: string, selector?: string | typeof eventHandler, eventHandler?: (e: Event, sender: any) => void, thisArg?: any, eventOptions?: any) {\r\n    if (typeof selector !== \"string\") {\r\n        eventOptions = thisArg;\r\n        thisArg = eventHandler;\r\n        eventHandler = selector;\r\n        selector = \"\";\r\n    }\r\n    thisArg = thisArg || elem;\r\n    if (!eventOptions || !defaultEventOptions) {\r\n        eventOptions = defaultEventOptions;\r\n    }\r\n\r\n    const events = (elem as any).__events__;\r\n    const key = selector ? eventName + \" \" + selector : eventName;\r\n    const eventHandlers = events && events[key];\r\n    if (!eventHandlers) {\r\n        return;\r\n    }\r\n\r\n    if (eventHandler) {\r\n        // 更新事件列表。\r\n        const index = indexOfHandler(eventHandlers, eventHandler, thisArg);\r\n        if (~index) {\r\n            if (Array.isArray(eventHandlers)) {\r\n                eventHandler = eventHandlers[index];\r\n                eventHandlers.splice(index, 1);\r\n                if (!eventHandlers.length) {\r\n                    delete events[key];\r\n                }\r\n            } else {\r\n                eventHandler = eventHandlers;\r\n                delete events[key];\r\n            }\r\n        }\r\n\r\n        // 底层解绑事件。\r\n        const fix = eventFix && eventFix[eventName] || 0;\r\n        if (fix.remove) {\r\n            fix.remove(elem, eventHandler as EventListener, eventOptions);\r\n        } else {\r\n            elem.removeEventListener((selector ? fix.delegate : fix.bind) || eventName, eventHandler as EventListener, eventOptions);\r\n        }\r\n    } else if (Array.isArray(eventHandlers)) {\r\n        for (eventHandler of eventHandlers) {\r\n            off(elem, eventName, selector, eventHandler, thisArg);\r\n        }\r\n    } else {\r\n        off(elem, eventName, selector, eventHandlers, thisArg);\r\n    }\r\n}\r\n\r\nfunction indexOfHandler(eventHandlers: typeof eventHandler[] | typeof eventHandler | undefined, eventHandler: (e: Event, sender: Element | Document) => void, thisArg: any) {\r\n    if (Array.isArray(eventHandlers)) {\r\n        for (let i = 0; i < eventHandlers.length; i++) {\r\n            if (eventHandlers[i] === eventHandler || (eventHandlers[i] as any).__original__ === eventHandler && (eventHandlers[i] as any).__this__ === thisArg) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    return eventHandlers === eventHandler || (eventHandlers as any).__original__ === eventHandler && (eventHandlers as any).__this__ === thisArg ? 0 : -1;\r\n}\r\n\r\n/**\r\n * 触发事件。执行已绑定的所有事件处理函数。\r\n * @param elem 元素或文档。\r\n * @param eventName 要触发的事件名。\r\n * @param selector 要委托的目标元素的 CSS 选择器。\r\n * @param event 传递给监听器的事件参数。\r\n * @example trigger(document.body, \"click\")\r\n */\r\nexport function trigger(elem: Element | Document, eventName: string, selector: string, event?: Partial<Event>): void;\r\n\r\n/**\r\n * 触发事件。执行已绑定的所有事件处理函数。\r\n * @param elem 元素或文档。\r\n * @param eventName 要触发的事件名。\r\n * @param event 传递给监听器的事件参数。\r\n * @example trigger(document.body, \"click\")\r\n */\r\nexport function trigger(elem: Element | Document, eventName: string, event?: Partial<Event>): void;\r\n\r\nexport function trigger(elem: Element | Document, eventName: string, selector: string | typeof event, event?: Partial<Event>) {\r\n    if (typeof selector !== \"string\") {\r\n        event = selector;\r\n        selector = \"\";\r\n    }\r\n    const eventHandlers = (elem as any).__events__ && (elem as any).__events__[selector ? eventName + \" \" + selector : eventName];\r\n    if (!eventHandlers) {\r\n        return;\r\n    }\r\n\r\n    event = event || {};\r\n    if (!event.type) (event as any).type = eventName;\r\n    if (!event.target) (event as any).target = selector ? find(elem, selector) : elem;\r\n    if (Array.isArray(eventHandlers)) {\r\n        for (const eventHandler of eventHandlers.slice(0)) {\r\n            eventHandler.call(elem, event);\r\n        }\r\n    } else {\r\n        eventHandlers.call(elem, event);\r\n    }\r\n}\r\n\r\n/**\r\n * 存储特效相关配置。\r\n */\r\nvar animateFix: {\r\n\r\n    /**\r\n     * 是否支持 CSS3 动画。\r\n     */\r\n    support: boolean,\r\n\r\n    /**\r\n     * 当前浏览器实际使用的 transition 属性名。\r\n     */\r\n    transition: string,\r\n\r\n    /**\r\n     * 当前浏览器实际使用的 transitionEnd 事件名。\r\n     */\r\n    transitionEnd: string\r\n\r\n};\r\n\r\n/**\r\n * 执行一个自定义渐变。\r\n * @param elem 元素。\r\n * @param propNames 要渐变的 CSS 属性名和最终的属性值组成的键值对。\r\n * @param callback 渐变执行结束的回调函数。\r\n * @param duration 渐变执行的总毫秒数。\r\n * @param timingFunction 渐变函数。可以使用 CSS3 预设的特效渐变函数。\r\n * @example animate(document.body, { height: 400 });\r\n */\r\nexport function animate(elem: HTMLElement, propNames: { [propName: string]: string | number }, callback?: () => void, duration = 200, timingFunction = \"ease\") {\r\n    if (!animateFix) {\r\n        const transition = vendor(\"transition\");\r\n        animateFix = {\r\n            support: transition in document.documentElement.style,\r\n            transition: transition,\r\n            transitionEnd: (transition + \"End\").replace(transition.length > 10 ? /^[A-Z]/ : /[A-Z]/, w => w.toLowerCase())\r\n        };\r\n    }\r\n    if (animateFix.support && duration !== 0) {\r\n        const context = (elem.style as any).__animate__ || ((elem.style as any).__animate__ = { __proto__: null });\r\n        const updateTransition = () => {\r\n            let transition = \"\";\r\n            for (const key in context) {\r\n                if (transition) transition += \",\";\r\n                transition += `${key.replace(/[A-Z]|^ms|^webkit/g, word => \"-\" + word.toLowerCase())} ${duration}ms ${timingFunction}`;\r\n            }\r\n            elem.style[animateFix.transition as any] = transition;\r\n        };\r\n        const transitionEnd = (e: Event) => {\r\n            // 忽略冒泡导致的调用。\r\n            if (timer && (!e || e.target === e.currentTarget)) {\r\n                clearTimeout(timer);\r\n                timer = 0;\r\n                elem.removeEventListener(animateFix.transitionEnd, transitionEnd, false);\r\n\r\n                // 如果新的渐变覆盖了当前渐变的所有属性，则不触发本次渐变的回调函数。\r\n                let contextUpdated = false;\r\n                for (const key in context) {\r\n                    if (context[key] === transitionEnd) {\r\n                        delete context[key];\r\n                        contextUpdated = true;\r\n                    }\r\n                }\r\n\r\n                if (contextUpdated) {\r\n                    updateTransition();\r\n                    callback && callback();\r\n                }\r\n            }\r\n        };\r\n\r\n        // 设置所有属性为起始值。\r\n        for (let propName in propNames) {\r\n            propName = vendor(propName);\r\n            context[propName] = transitionEnd;\r\n            if (!elem.style[propName as any]) {\r\n                elem.style[propName as any] = getStyle(elem, propName);\r\n            }\r\n        }\r\n\r\n        // 触发重新布局以保证效果可以触发。\r\n        elem.offsetWidth && elem.clientLeft;\r\n\r\n        // 设置要渐变的属性。\r\n        updateTransition();\r\n\r\n        // 绑定渐变完成事件。\r\n        elem.addEventListener(animateFix.transitionEnd, transitionEnd, false);\r\n        let timer = setTimeout(transitionEnd, duration) as any;\r\n    } else {\r\n        callback && setTimeout(callback, duration);\r\n    }\r\n\r\n    // 设置属性为最终值，触发动画。\r\n    for (const propName in propNames) {\r\n        setStyle(elem, propName, propNames[propName]);\r\n    }\r\n}\r\n\r\n/**\r\n * 判断指定的元素是否被隐藏。\r\n * @param elem 元素。\r\n * @return 如果元素本身被隐藏或正在被隐藏则返回 true，否则返回 false。\r\n * @example isHidden(document.body)\r\n */\r\nexport function isHidden(elem: HTMLElement) {\r\n    return (elem.style as any).__toggle__ === false || (elem.style.display || getStyle(elem, \"display\")) === \"none\";\r\n}\r\n\r\n/**\r\n * 存储标签默认的 display 属性。\r\n */\r\nvar defaultDisplays: { [tagName: string]: string };\r\n\r\n/**\r\n * 存储内置切换动画。\r\n */\r\nvar toggleAnimations: { [animation: string]: { [propName: string]: string | number } };\r\n\r\n/**\r\n * 表示一个切换动画。\r\n */\r\nexport type ToggleAnimation = \"opacity\" | \"height\" | \"width\" | \"top\" | \"bottom\" | \"left\" | \"right\" | \"scale\" | \"scaleX\" | \"scaleY\" | \"slideDown\" | \"slideRight\" | \"slideUp\" | \"slideLeft\" | \"zoomIn\" | \"zoomOut\" | \"rotate\" | typeof toggleAnimations[\"\"];\r\n\r\n/**\r\n * 显示元素。\r\n * @param elem 元素。\r\n * @param animation 显示时使用的动画。\r\n * @param callback 动画执行完成后的回调。\r\n * @param duration 动画执行的总毫秒数。\r\n * @param timingFunction 渐变函数。可以使用 CSS3 预设的特效渐变函数。\r\n * @param target 动画的目标元素。\r\n */\r\nexport function show(elem: HTMLElement, animation?: ToggleAnimation, callback?: (value: boolean) => void, duration?: number, timingFunction?: string, target?: Element) {\r\n    if (animation || callback) {\r\n        toggle(elem, true, animation, callback, duration, timingFunction, target);\r\n    } else {\r\n        elem.style.display = (elem.style as any).__display__ || \"\";\r\n\r\n        // 如果清空内联 display 后 display 仍然为 none, 说明通过 CSS 设置了 display 属性。\r\n        // 这时将元素强制设为 inline 或 block。\r\n        if (getStyle(elem, \"display\") === \"none\") {\r\n            const nodeName = elem.nodeName;\r\n            let defaultDisplay = (defaultDisplays || (defaultDisplays = { __proto__: null! }))[nodeName];\r\n            if (!defaultDisplay) {\r\n                // 创建一个新节点以计算其默认的 display 属性。\r\n                const tmp = document.createElement(nodeName);\r\n                document.body.appendChild(tmp);\r\n                defaultDisplay = getStyle(tmp, \"display\");\r\n                document.body.removeChild(tmp);\r\n                // 如果计算失败则设置为默认的 block。\r\n                if (defaultDisplay === \"none\") {\r\n                    defaultDisplay = \"block\";\r\n                }\r\n                // 缓存以加速下次计算。\r\n                defaultDisplays[nodeName] = defaultDisplay;\r\n            }\r\n            elem.style.display = defaultDisplay;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 隐藏元素。\r\n * @param elem 元素。\r\n * @param animation 显示时使用的动画。\r\n * @param callback 动画执行完成后的回调。\r\n * @param duration 动画执行的总毫秒数。\r\n * @param timingFunction 渐变函数。可以使用 CSS3 预设的特效渐变函数。\r\n * @param target 动画的目标元素。\r\n */\r\nexport function hide(elem: HTMLElement, animation?: ToggleAnimation, callback?: (value: boolean) => void, duration?: number, timingFunction?: string, target?: Element) {\r\n    if (animation || callback) {\r\n        toggle(elem, false, animation, callback, duration, timingFunction, target);\r\n    } else {\r\n        const currentDisplay = getStyle(elem, \"display\");\r\n        if (currentDisplay !== \"none\") {\r\n            (elem.style as any).__display__ = elem.style.display;\r\n            elem.style.display = \"none\";\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 切换显示或隐藏元素。\r\n * @param elem 元素。\r\n * @param animation 显示或隐藏时使用的动画。\r\n * @param callback 动画执行完成后的回调。\r\n * @param duration 动画执行的总毫秒数。\r\n * @param timingFunction 渐变函数。可以使用 CSS3 预设的特效渐变函数。\r\n * @param target 动画的目标元素。\r\n * @example\r\n * // 折叠/展开\r\n * toggle(document.body, \"height\");\r\n *\r\n * // 深入/淡出\r\n * toggle(document.body, \"opacity\");\r\n *\r\n * // 缩小/放大\r\n * toggle(document.body, \"scale\");\r\n */\r\nexport function toggle(elem: HTMLElement, animation?: ToggleAnimation, callback?: (value: boolean) => void, duration?: number, timingFunction?: string, target?: Element): void;\r\n\r\n/**\r\n * 切换显示或隐藏元素。\r\n * @param elem 元素。\r\n * @param value 如果为 true 则强制显示元素；如果为 false 则强制隐藏元素。\r\n * @param animation 显示或隐藏时使用的动画。\r\n * @param callback 动画执行完成后的回调。\r\n * @param duration 动画执行的总毫秒数。\r\n * @param timingFunction 渐变函数。可以使用 CSS3 预设的特效渐变函数。\r\n * @param target 动画的目标元素。\r\n */\r\nexport function toggle(elem: HTMLElement, value: boolean, animation?: ToggleAnimation, callback?: (value: boolean) => void, duration?: number, timingFunction?: string, target?: Element): void;\r\n\r\nexport function toggle(elem: HTMLElement, value?: boolean | typeof animation, animation?: ToggleAnimation | typeof callback, callback?: ((value: boolean) => void) | typeof duration, duration?: number | typeof timingFunction, timingFunction?: string | typeof target, target?: Element) {\r\n    if (typeof value !== \"boolean\") {\r\n        target = timingFunction as typeof target;\r\n        timingFunction = duration as string;\r\n        duration = callback as number;\r\n        callback = animation as (this: Element, value: boolean) => void;\r\n        animation = value as ToggleAnimation;\r\n        value = undefined;\r\n    }\r\n    if (value === undefined) {\r\n        value = isHidden(elem);\r\n    }\r\n    if (typeof animation === \"string\") {\r\n        animation = (toggleAnimations || (toggleAnimations = {\r\n            opacity: { opacity: 0 },\r\n            height: {\r\n                marginTop: 0,\r\n                borderTopWidth: 0,\r\n                paddingTop: 0,\r\n                height: 0,\r\n                paddingBottom: 0,\r\n                borderBottomWidth: 0,\r\n                marginBottom: 0\r\n            },\r\n            width: {\r\n                marginLeft: 0,\r\n                borderLeftWidth: 0,\r\n                paddingLeft: 0,\r\n                width: 0,\r\n                paddinRight: 0,\r\n                borderRightWidth: 0,\r\n                marginRight: 0\r\n            },\r\n            top: { transform: \"translateY(-100%)\" },\r\n            bottom: { transform: \"translateY(100%)\" },\r\n            left: { transform: \"translateX(-100%)\" },\r\n            right: { transform: \"translateX(100%)\" },\r\n            scale: { transform: \"scale(0, 0)\" },\r\n            scaleX: { transform: \"scaleX(0)\" },\r\n            scaleY: { transform: \"scaleY(0)\" },\r\n            slideUp: { opacity: 0, transform: \"translateY(10%)\" },\r\n            slideLeft: { opacity: 0, transform: \"translateX(10%)\" },\r\n            slideDown: { opacity: 0, transform: \"translateY(-10%)\" },\r\n            slideRight: { opacity: 0, transform: \"translateX(-10%)\" },\r\n            zoomOut: { opacity: 0, transform: \"scale(0, 0)\" },\r\n            zoomIn: { opacity: 0, transform: \"scale(1.2, 1.2)\" },\r\n            rotate: { opacity: 0, transform: \"rotate(-180deg)\" }\r\n        }))[animation];\r\n    }\r\n    if (animation && duration !== 0) {\r\n\r\n        // 优先显示元素以便后续计算。\r\n        if (value) {\r\n            show(elem);\r\n        }\r\n\r\n        // 设置渐变目标。\r\n        // 如果正在执行渐变，计算新目标会出现错误，直接复用上次设置的目标。\r\n        const setTransformOrigin = target && (animation as typeof toggleAnimations[\"\"]).transform && (elem.style as any).__toggle__ == undefined;\r\n        if (setTransformOrigin) {\r\n            const targetRect = getRect(target!);\r\n            const elemRect = getRect(elem);\r\n            setStyle(elem, \"transformOrigin\", `${(elemRect.x + elemRect.width <= targetRect.x + targetRect.width / 4 ? targetRect.x : targetRect.x + targetRect.width <= elemRect.x + targetRect.width / 4 ? targetRect.x + targetRect.width : targetRect.x + targetRect.width / 2) - elemRect.x}px ${(elemRect.y + elemRect.height <= targetRect.y + targetRect.height / 4 ? targetRect.y : targetRect.y + targetRect.height <= elemRect.y + targetRect.height / 4 ? targetRect.y + targetRect.height : targetRect.y + targetRect.height / 2) - elemRect.y}px`);\r\n        }\r\n\r\n        // 更改宽高时隐藏滚动条。\r\n        const setOverflowX = (animation as typeof toggleAnimations[\"\"]).width != undefined;\r\n        if (setOverflowX) {\r\n            elem.style.overflowX = \"hidden\";\r\n        }\r\n        const setOverflowY = (animation as typeof toggleAnimations[\"\"]).height != undefined;\r\n        if (setOverflowY) {\r\n            elem.style.overflowY = \"hidden\";\r\n        }\r\n\r\n        // 计算渐变的最终属性。\r\n        // 如果需要隐藏元素，则 animation 表示最终属性。\r\n        // 如果需要显示元素，则需要手动计算最终属性。\r\n        let to = animation as typeof toggleAnimations[\"\"];\r\n        if (value) {\r\n            to = {};\r\n\r\n            // 如果正在执行渐变，则从当前位置开始渐变而非从隐藏时的值属性开始，同时停止渐变用于计算最终属性。\r\n            let from = animation as typeof toggleAnimations[\"\"];\r\n            if ((elem.style as any).__toggle__ != undefined) {\r\n                from = {};\r\n                for (const prop in animation as typeof toggleAnimations[\"\"]) {\r\n                    from[prop] = getStyle(elem, prop);\r\n                    setStyle(elem, prop, \"\");\r\n                }\r\n                elem.style[animateFix.transition as any] = \"\";\r\n            }\r\n\r\n            // 计算最终属性值并将属性重置为初始值。\r\n            for (const prop in animation as typeof toggleAnimations[\"\"]) {\r\n                to[prop] = getStyle(elem, prop);\r\n                setStyle(elem, prop, from[prop]);\r\n            }\r\n        }\r\n\r\n        // 执行渐变。\r\n        (elem.style as any).__toggle__ = value;\r\n        animate(elem, to, () => {\r\n            delete (elem.style as any).__toggle__;\r\n            if (setOverflowX) {\r\n                elem.style.minWidth = elem.style.overflowX = \"\";\r\n            }\r\n            if (setOverflowY) {\r\n                elem.style.minHeight = elem.style.overflowY = \"\";\r\n            }\r\n            if (setTransformOrigin) {\r\n                setStyle(elem, \"transformOrigin\", \"\");\r\n            }\r\n            for (const prop in to) {\r\n                setStyle(elem, prop, \"\");\r\n            }\r\n            if (!value) {\r\n                hide(elem);\r\n            }\r\n            callback && (callback as Function)(value);\r\n        }, duration as number, timingFunction as string);\r\n\r\n    } else {\r\n        value ? show(elem) : hide(elem);\r\n        callback && (callback as Function)(value);\r\n    }\r\n}\r\n\r\n/**\r\n * 确保在文档加载完成后再执行指定的函数。\r\n * @param callback 要执行的回调函数。\r\n * @param context 要等待的文档对象。\r\n */\r\nexport function ready(callback: (this: Document) => void, context = document) {\r\n    if (/^(?:complete|loaded|interactive)$/.test(context.readyState) && context.body) {\r\n        callback.call(context);\r\n    } else {\r\n        context.addEventListener(\"DOMContentLoaded\", callback, false);\r\n    }\r\n}\r\n"],"mappings":"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"}