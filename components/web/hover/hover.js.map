{"version":3,"file":"hover.js","sources":["hover.ts"],"sourcesContent":["import { on } from \"web/dom\";\r\n\r\n/**\r\n * 设置指针悬停时的回调函数。\r\n * @param elem 元素。\r\n * @param pointerEnter 指针移入后的回调函数。\r\n * @param pointerLeave 指针移出后的回调函数。\r\n * @param delay 触发事件延时执行的毫秒数。指针进入后指定时间内不触发函数。\r\n * @example hover(elem, () => console.log(\"进\"), () => console.log(\"出\"))\r\n */\r\nexport default function hover(elem: HTMLElement, pointerEnter?: (e: MouseEvent) => void, pointerLeave?: (e: MouseEvent) => void, delay = 30) {\r\n    let timer: any;\r\n    on(elem, \"pointerenter\", (e: MouseEvent) => {\r\n        timer = setTimeout(() => {\r\n            timer = 0;\r\n            pointerEnter && pointerEnter(e);\r\n        }, delay);\r\n    });\r\n    on(elem, \"pointerleave\", (e: MouseEvent) => {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n            timer = 0;\r\n        } else {\r\n            pointerLeave && pointerLeave(e);\r\n        }\r\n    });\r\n}\r\n"],"mappings":";;;IAEA;;;;;;;OAOG;IACH,eAA8B,IAAiB,EAAE,YAAsC,EAAE,YAAsC,EAAE,KAAU;QAAV,sBAAA,EAAA,UAAU;QACvI,IAAI,KAAU,CAAC;QACf,QAAE,CAAC,IAAI,EAAE,cAAc,EAAE,UAAC,CAAa;YACnC,KAAK,GAAG,UAAU,CAAC;gBACf,KAAK,GAAG,CAAC,CAAC;gBACV,YAAY,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;YACpC,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC,CAAC,CAAC;QACH,QAAE,CAAC,IAAI,EAAE,cAAc,EAAE,UAAC,CAAa;YACnC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACR,YAAY,CAAC,KAAK,CAAC,CAAC;gBACpB,KAAK,GAAG,CAAC,CAAC;YACd,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,YAAY,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;YACpC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAhBD,wBAgBC"}