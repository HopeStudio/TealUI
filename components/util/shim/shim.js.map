{"version":3,"file":"shim.js","sources":["shim.ts"],"sourcesContent":["import \"./promise-shim\";\r\n\r\n/**\r\n * 把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。\r\n * @param target 目标对象。\r\n * @param sources 所有源对象。\r\n * @example assign({a: 1}, {a: 2}) // {a: 2}\r\n * @example assign({a: 1}, {b: 2}) // {a: 1, b: 2}\r\n * @example assign({a: 1}, {b: 2}, {b: 3}, {c: 4}) // {a: 1, b: 3, c: 4}\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\n */\r\nObject.assign = Object.assign || function <T>(target: T, ...sources: any[]) {\r\n    target = Object(target);\r\n    for (let i = 1; i < arguments.length; i++) {\r\n        const source = arguments[i];\r\n        for (const key in source) {\r\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n                (target as any)[key] = source[key];\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n};\r\n\r\n/**\r\n * 将一个数组转为原生数组。\r\n * @param obj 数组。\r\n * @return 返回一个新数组。\r\n * @example from([1, 4]) // [1, 4]\r\n * @example (function() { return Array.from(arguments); })(0, 1, 2) // [0, 1, 2]\r\n * @example from({length: 1, \"0\": \"value\"}) // [\"value\"]\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from\r\n */\r\nArray.from = Array.from || function <T>(obj: ArrayLike<T>): T[] {\r\n    /*@cc_on  if (!+\"\\v1\") {\r\n         const r: T[] = [];\r\n         for (let i = 0; i < iterable.length; i++) {\r\n             r[i] = iterable[i];\r\n         }\r\n         return r;\r\n     } */\r\n    return Array.prototype.slice.call(obj);\r\n};\r\n\r\n/**\r\n * 找出数组中符合条件的第一项。\r\n * @param callback 用于确定每一项是否符合条件的回调函数。函数接收以下参数：\r\n * - value：当前项的值。\r\n * - index：当前项的索引。\r\n * - target：数组本身。\r\n *\r\n * 如果当前项符合条件应返回 true，否则返回 false。\r\n * @param thisArg 执行回调函数时 this 的值。\r\n * @return 返回符合条件的第一项，如果找不到则返回 undefined。\r\n * @example find([1, 2], function (item) { return item > 1; }) // 2\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/find\r\n */\r\nArray.prototype.find = Array.prototype.find || function <T>(this: T[], callback: (value: T, index: number, target: T[]) => boolean, thisArg?: any) {\r\n    for (let i = 0; i < this.length; i++) {\r\n        if ((i in this) && callback.call(thisArg, this[i], i, this)) {\r\n            return this[i];\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * 找出数组中符合条件的第一项的索引。\r\n * @param callback 用于确定每一项是否符合条件的回调函数。函数接收以下参数：\r\n * - value：当前项的值。\r\n * - index：当前项的索引。\r\n * - target：数组本身。\r\n *\r\n * 如果当前项符合条件应返回 true，否则返回 false。\r\n * @param thisArg 执行回调函数时 this 的值。\r\n * @return 返回符合条件的第一项的索引，如果找不到则返回 -1。\r\n * @example [1, 2].findIndex(function(item) { return item > 1; }) // 1\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\r\n */\r\nArray.prototype.findIndex = Array.prototype.findIndex || function <T>(this: T[], callback: (value: T, index: number, target: T[]) => boolean, thisArg?: any) {\r\n    for (let i = 0; i < this.length; i++) {\r\n        if ((i in this) && callback.call(thisArg, this[i], i, this)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n};\r\n\r\n/**\r\n * 判断字符串是否以指定子字符串开头。\r\n * @param value 子字符串。\r\n * @return 如果字符串以指定子字符串开头则返回 true，否则返回 false。\r\n * @example startsWith(\"1234567\", \"123\") // true\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\r\n */\r\nString.prototype.startsWith = String.prototype.startsWith || function (this: string, value: string) {\r\n    return this.substr(0, value.length) === value;\r\n};\r\n\r\n/**\r\n * 判断字符串是否以指定子字符串结尾。\r\n * @param value 字符串。\r\n * @return 如果字符串以指定子字符串结尾则返回 true，否则返回 false。\r\n * @example endsWith(\"1234567\", \"67\") // true\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\r\n */\r\nString.prototype.endsWith = String.prototype.endsWith || function (this: string, value: string) {\r\n    return this.substr(this.length - value.length) === value;\r\n};\r\n\r\n/**\r\n * 重复拼接当前字符串内容指定次数。\r\n * @param count 重复的次数。\r\n * @return 返回新字符串。\r\n * @example repeat(\"a\", 4) // \"aaaa\"\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\r\n */\r\nString.prototype.repeat = String.prototype.repeat || function (this: string, count: number) {\r\n    return new Array(count + 1).join(this);\r\n};\r\n"],"mappings":";;;IAEA;;;;;;;;;OASG;IACH,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,IAAI,UAAa,MAAS;QAAE,iBAAiB;aAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;YAAjB,gCAAiB;;QACtE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;QACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,IAAM,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;YAC5B,GAAG,CAAC,CAAC,IAAM,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC;gBACvB,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;oBACnD,MAAc,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBACvC,CAAC;YACL,CAAC;QACL,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC,CAAC;IAEF;;;;;;;;;OASG;IACH,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,UAAa,GAAiB;QACrD;;;;;;aAMK;QACL,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC,CAAC;IAEF;;;;;;;;;;;;;OAaG;IACH,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,IAAI,UAAwB,QAA2D,EAAE,OAAa;QAC7I,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACnC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1D,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC;QACL,CAAC;IACL,CAAC,CAAC;IAEF;;;;;;;;;;;;;OAaG;IACH,KAAK,CAAC,SAAS,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,IAAI,UAAwB,QAA2D,EAAE,OAAa;QACvJ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACnC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1D,MAAM,CAAC,CAAC,CAAC;YACb,CAAC;QACL,CAAC;QACD,MAAM,CAAC,CAAC,CAAC,CAAC;IACd,CAAC,CAAC;IAEF;;;;;;;OAOG;IACH,MAAM,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,UAAU,IAAI,UAAwB,KAAa;QAC9F,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,KAAK,CAAC;IAClD,CAAC,CAAC;IAEF;;;;;;;OAOG;IACH,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,IAAI,UAAwB,KAAa;QAC1F,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,KAAK,CAAC;IAC7D,CAAC,CAAC;IAEF;;;;;;;OAOG;IACH,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,IAAI,UAAwB,KAAa;QACtF,MAAM,CAAC,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC"}