<!DOCTYPE html>
<html class="doc">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="xuld &lt;xuld@vip.qq.com&gt;">
    <meta name="version" content="0.0.1">
    <title>JS 兼容补丁 - TealUI | 打造小而全、精而美的开源组件库</title>
    <link rel="shortcut icon" href="../../../assets/doc/images/favicon.ico">
    <link rel="stylesheet" href="../../../assets/doc/doc.css">
    <script src="../../../components/require.js"></script>
	<script>require(["util/shim"])</script>
</head>
<body>
    <header id="doc_header">
        <div class="doc-container">
            <h1 id="doc_logo">
                <a href="../../../" title="Teal" id="doc_logo_image"><img src="../../../assets/doc/images/logo.svg" alt="Teal"></a>
                <a href="../../../" id="doc_logo_title">TealUI</a>
                <div id="doc_version" class="doc-menubutton">
                    <a href="javascript://切换版本">4.0.0 <i class="doc-icon">⏷</i></a>
                    <menu>
                        <li><a href="http://tealui.com/v3.x/" target="_blank">3.x</a></li>
                        <li><a href="http://tealui.com/v2.x/" target="_blank">2.x</a></li>
                    </menu>
                </div>
            </h1>
            <nav id="doc_navbar">
                <ul>
                    <li><a href="../../../docs" title="文档和规范">文档</a></li>
                    <li class="doc-navbar-active"><a href="../../../components" title="组件和演示">组件</a></li>
                    <li><a href="../../../tools" title="工具和资源">工具</a></li>
                </ul>
                <a href="https://github.com/Teal/TealUI" target="_blank" title="源码仓库" id="doc_repository" class="doc-icon">😺</a>
                <a href="javascript:Doc.toggleSidebar()" title="菜单" id="doc_togglesidebar" class="doc-icon">≡</a>
            </nav>
        </div>
    </header>
    <div id="doc_body" class="doc-container">
        <aside id="doc_sidebar">
            <div id="doc_sidebar_header">
                <input type="search" placeholder="查找组件..." autocomplete="off" id="doc_sidebar_filter">
            </div>
            <ul id="doc_sidebar_menu">
                <li class="doc-tip"><i class="doc-icon doc-spin">҉</i> 正在载入列表...</li>
            </ul>
        </aside>
        <article id="doc_main" class="doc">
<aside id="doc_mainmenu" class="doc-menubutton">
                            <a href="javascript://打开工具" title="工具" class="doc-icon">🔧⏷</a>
                            <menu>
                                <li><a href="javascript:void Doc.copy(&quot;import \&quot;util/shim\&quot;;\n&quot;)" accesskey="i"><i class="doc-icon">⅏</i>复制 <code>import</code></a></li><li><a href="javascript:void Doc.copy(&quot;require([\&quot;util/shim\&quot;], function (shim_1) {\n\n\n});\n&quot;)" accesskey="r"><i class="doc-icon">⅏</i>复制 <code>require</code></a></li><li class="doc-menu-divider"><a href="javascript:Doc.toggleUnitTest()" accesskey="t"><i class="doc-icon">☕</i>单元测试</a></li><li><a href="javascript:Doc.toggleFullScreen()" accesskey="f"><i class="doc-icon">✥</i>全屏显示</a></li><li class="doc-menu-divider"><a href="https://github.com/Teal/TealUI/tree/dev-v4/components/util/shim/shim.ts" target="_blank"><i class="doc-icon">😺</i>查看源码</a></li><li><a href="https://github.com/Teal/TealUI/issues/new?title=util/shim" target="_blank"><i class="doc-icon">🐛</i>报告 BUG</a></li><li><a href="https://github.com/Teal/TealUI/edit/dev-v4/components/util/shim/shim.md" target="_blank"><i class="doc-icon">✍</i>编辑此页</a></li>
                            </menu>
                        </aside>
                        <h1 id="js-兼容补丁">
<a href="#js-兼容补丁" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>JS 兼容补丁<small title="版本：0.0.1&#10;作者：xuld <xuld@vip.qq.com>&#10;关键字：polyfill,legacy,垫片,es5,es6,es7,esnext,ecma,json">util/shim</small></h1>
<p class="doc">在低版本浏览器直接使用 ECMAScript 5+ 新增的接口。</p>
<dl id="doc_toc">
	<dt><a href="#ecmascript-5">ECMAScript 5</a></dt>
	<dt><a href="#ecmascript-6">ECMAScript 6</a></dt>
	<dt><a href="#ecmascript-7ecmascript-2016">ECMAScript 7（ECMAScript 2016）</a></dt>
	<dt><a href="#建议">建议</a></dt>
	<dd><a href="#pc-端项目">PC 端项目</a></dd>
	<dd><a href="#移动端项目">移动端项目</a></dd>
	<dd><a href="#nodejs-项目">Node.js 项目</a></dd>
	<dd><a href="#打包优化">打包优化</a></dd>
</dl>
<h2 id="ecmascript-5">
<a href="#ecmascript-5" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>ECMAScript 5</h2>
<p class="doc">移动端和现代浏览器（IE9+）都支持 ECMAScript 5（HTML5 的一部分）。IE 6-8 和 2015 年之前的桌面浏览器需导入：</p>
<pre class="doc-code"><a href="javascript://复制源码" title="复制源码" aria-hidden="true" class="doc-icon" onclick="Doc.copyCode(this)">❐</a><code class="doc-code-js"><span class="doc-code-keyword">import</span> <span class="doc-code-string">"util/shim/es5-shim"</span>;</code></pre><p class="doc">补丁包含了以下 ECMAScript 5 新增的接口：</p>
<ul>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create" target="_blank" class="doc-external"><code>Object.create</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" class="doc-external"><code>Object.defineProperty</code>¹ ²</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties" target="_blank" class="doc-external"><code>Object.defineProperties</code>¹ ²</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" target="_blank" class="doc-external"><code>Object.getPrototypeOf</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" class="doc-external"><code>Object.keys</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/seal" target="_blank" class="doc-external"><code>Object.seal</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze" target="_blank" class="doc-external"><code>Object.freeze</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" class="doc-external"><code>Object.preventExtensions</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed" target="_blank" class="doc-external"><code>Object.isSealed</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen" target="_blank" class="doc-external"><code>Object.isFrozen</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" target="_blank" class="doc-external"><code>Object.isExtensible</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" class="doc-external"><code>Object.getOwnPropertyDescriptor</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" target="_blank" class="doc-external"><code>Object.getOwnPropertyNames</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray" target="_blank" class="doc-external"><code>Array.isArray</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf" target="_blank" class="doc-external"><code>Array.prototype.indexOf</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf" target="_blank" class="doc-external"><code>Array.prototype.lastIndexOf</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every" target="_blank" class="doc-external"><code>Array.prototype.every</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/some" target="_blank" class="doc-external"><code>Array.prototype.some</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" class="doc-external"><code>Array.prototype.forEach</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" class="doc-external"><code>Array.prototype.filter</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" class="doc-external"><code>Array.prototype.map</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" target="_blank" class="doc-external"><code>Array.prototype.reduce</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight" target="_blank" class="doc-external"><code>Array.prototype.reduceRight</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/now" target="_blank" class="doc-external"><code>Date.now</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString" target="_blank" class="doc-external"><code>Date.prototype.toISOString</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" class="doc-external"><code>Function.prototype.bind</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" class="doc-external"><code>JSON.stringify</code>¹</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" class="doc-external"><code>JSON.parse</code>¹</a></li>
</ul>
<p class="doc">¹：补丁仅模拟了该接口的部分功能。<br>
²：受引擎限制，IE6-8 无法模拟 <code>Object.defineProperty</code>，使用了该接口的程序将无法在 IE6-8 运行。</p>
<blockquote class="doc doc-blockquote">
<h5>另参考</h5>
<ul>
<li class="doc"><a href="http://kangax.github.io/compat-table/es5/" target="_blank" class="doc-external">ECMAScript 5 支持情况</a></li>
<li class="doc"><a href="https://github.com/es-shims/es5-shim" target="_blank" class="doc-external">ECMAScript 5 完整实现：es5-shim</a></li>
<li class="doc"><a href="http://www-archive.mozilla.org/js/language/E262-3.pdf" target="_blank" class="doc-external">ECMAScript 3 规范</a></li>
<li class="doc"><a href="http://www.ecma-international.org/ecma-262/5.1/" target="_blank" class="doc-external">ECMAScript 5 规范</a></li>
<li class="doc"><a href="http://lzw.me/pages/ecmascript/" target="_blank" class="doc-external">ECMAScript 5 规范（中文）</a></li>
</ul>
</blockquote>
<h2 id="ecmascript-6">
<a href="#ecmascript-6" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>ECMAScript 6</h2>
<p class="doc">2016 年之后发布的浏览器（Edge 14+）都支持 ECMAScript 6。其它浏览器需导入：</p>
<pre class="doc-code"><a href="javascript://复制源码" title="复制源码" aria-hidden="true" class="doc-icon" onclick="Doc.copyCode(this)">❐</a><code class="doc-code-js"><span class="doc-code-keyword">import</span> <span class="doc-code-string">"util/shim/es6-shim"</span>;</code></pre><p class="doc">项目中一般用不到 ECMAScript 6 的完整功能，建议改用精简后的补丁：</p>
<pre class="doc-code"><a href="javascript://复制源码" title="复制源码" aria-hidden="true" class="doc-icon" onclick="Doc.copyCode(this)">❐</a><code class="doc-code-js"><span class="doc-code-keyword">import</span> <span class="doc-code-string">"util/shim"</span>;</code></pre><p class="doc">补丁包含了以下 ECMAScript 6 新增的接口（精简版只包含了其中加 ³ 的接口）：</p>
<ul>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" class="doc-external"><code>Promise</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" class="doc-external"><code>Object.assign</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is" target="_blank" class="doc-external"><code>Object.is</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" target="_blank" class="doc-external"><code>Object.setPrototypeOf</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith" target="_blank" class="doc-external"><code>String.prototype.startsWith</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith" target="_blank" class="doc-external"><code>String.prototype.endsWith</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/repeat" target="_blank" class="doc-external"><code>String.prototype.repeat</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" class="doc-external"><code>Array.from</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/find" target="_blank" class="doc-external"><code>Array.prototype.find</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" target="_blank" class="doc-external"><code>Array.prototype.findIndex</code>³</a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/fill" target="_blank" class="doc-external"><code>Array.prototype.fill</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger" target="_blank" class="doc-external"><code>Number.isInteger</code></a></li>
</ul>
<blockquote class="doc doc-blockquote">
<h5>另参考</h5>
<ul>
<li class="doc"><a href="http://kangax.github.io/compat-table/es6/" target="_blank" class="doc-external">ECMAScript 6 支持情况</a></li>
<li class="doc"><a href="https://github.com/es-shims/es6-shim" target="_blank" class="doc-external">ECMAScript 6 完整实现：es6-shim</a></li>
<li class="doc"><a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" class="doc-external">ECMAScript 6 规范</a></li>
<li class="doc"><a href="https://www.promisejs.org/" target="_blank" class="doc-external">Promises</a></li>
</ul>
</blockquote>
<h2 id="ecmascript-7ecmascript-2016">
<a href="#ecmascript-7ecmascript-2016" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>ECMAScript 7（ECMAScript 2016）</h2>
<p class="doc">目前（2017）没有完全支持 ECMAScript 7 的浏览器。需导入：</p>
<pre class="doc-code"><a href="javascript://复制源码" title="复制源码" aria-hidden="true" class="doc-icon" onclick="Doc.copyCode(this)">❐</a><code class="doc-code-js"><span class="doc-code-keyword">import</span> <span class="doc-code-string">"util/shim/es7-shim"</span>;</code></pre><p class="doc">补丁包含了以下 ECMAScript 7 新增的接口：</p>
<ul>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/value" target="_blank" class="doc-external"><code>Object.values</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" target="_blank" class="doc-external"><code>Object.entries</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/includes" target="_blank" class="doc-external"><code>Array.prototype.includes</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/padStart" target="_blank" class="doc-external"><code>String.prototype.padStart</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd" target="_blank" class="doc-external"><code>String.prototype.padEnd</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/trimLeft" target="_blank" class="doc-external"><code>String.prototype.trimLeft</code></a></li>
<li class="doc"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/trimRight" target="_blank" class="doc-external"><code>String.prototype.trimRight</code></a></li>
</ul>
<blockquote class="doc doc-blockquote">
<h5>另参考</h5>
<ul>
<li class="doc"><a href="http://kangax.github.io/compat-table/es7/" target="_blank" class="doc-external">ECMAScript 7 支持情况</a></li>
<li class="doc"><a href="https://github.com/es-shims/es7-shim" target="_blank" class="doc-external">ECMAScript 7 完整实现：es7-shim</a></li>
<li class="doc"><a href="http://www.ecma-international.org/ecma-262/7.0/" target="_blank" class="doc-external">ECMAScript 7 规范</a></li>
</ul>
</blockquote>
<h2 id="建议">
<a href="#建议" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>建议</h2>
<h3 id="pc-端项目">
<a href="#pc-端项目" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>PC 端项目</h3>
<p class="doc">建议导入 <code>util/shim/es5-shim</code> 和 <code>util/shim</code>，确保 ECMAScript 5 全部和 ECMAScript 6+ 常用接口可用。</p>
<h3 id="移动端项目">
<a href="#移动端项目" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>移动端项目</h3>
<p class="doc">ECMAScript 5 在移动端可直接使用，建议导入 <code>util/shim</code> 确保 ECMAScript 6+ 常用接口可用。</p>
<h3 id="nodejs-项目">
<a href="#nodejs-项目" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>Node.js 项目</h3>
<p class="doc">建议直接升级为 Node.js 6+，可直接使用所有 ECMAScript 6 功能。</p>
<h3 id="打包优化">
<a href="#打包优化" title="链接" aria-hidden="true" class="doc-icon doc-permalink">☍</a>打包优化</h3>
<p class="doc">有些打包插件可以实现在调用 ECMAScript 新增的接口时自动打补丁，可参考相关文档。</p>
<blockquote class="doc doc-blockquote">
<h5>另参考</h5>
<ul>
<li class="doc"><a href="../../../components/../docs/spec/compatibility.html" title="../docs/spec/compatibility">兼容性</a></li>
<li class="doc"><a href="http://kangax.github.io/compat-table/" target="_blank" class="doc-external">ECMAScript 兼容性报告</a></li>
<li class="doc"><a href="https://github.com/zloirock/core-js" target="_blank" class="doc-external">core.js - Standard Library</a></li>
</ul>
</blockquote>

                        
                        <nav id="doc_pager">
                            <a href="../../../components/web/xml/" title="解析 XML" id="doc_pager_prev"><i class="doc-icon">⮜</i> 解析 XML</a>
                            <a href="../../../components/util/object/" title="对象扩展" id="doc_pager_next">对象扩展 <i class="doc-icon">⮞</i></a>
                        </nav>
</article>
    </div>
    <footer id="doc_footer">
        <div class="doc-container">
            <div id="doc_footer_links">
                <a href="https://github.com/Teal/TealUI/issues" target="_blank">反馈建议</a> |
                <a href="../../../docs/about/contributing.html">贡献指南</a> |
                <a href="https://gitter.im/Teal/TealUI" target="_blank">在线讨论</a>
            </div>
            &copy; 2011-2017 The Teal Team. All Rights Reserved.
        </div>
    </footer>
    <script src="../../../assets/doc/doc.js"></script>
    <script>
        Doc.init({"root":"../../..","dir":"components","active":"util/shim/","test":"util/shim/shim-test.ts","imports":["util/shim"]})
    </script>
    <script src="../../../components/index.js"></script>
    <script>!location.port && /^http/.test(location.protocol) && (document.body.appendChild(document.createElement("script")).src = "//hm.baidu.com/hm.js?9a3cb18d91be19c36c5f9725822b64e8")</script>
</body>
</html>