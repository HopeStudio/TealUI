{"version":3,"file":"formatDateToChinese.js","sources":["formatDateToChinese.ts"],"sourcesContent":["/**\r\n * 格式化时间为中文可读格式（如“3 分钟前”）。\r\n * @param date 要格式化的日期对象。\r\n * @param now 当前时间。\r\n * @return 根据指定的时间与当前时间的差距，返回以下格式之一：“刚刚”、“N 秒前”、“N 分钟前”、“N 小时前”、“昨天”、“N 天前”、“N月N日”或“N年N月N日”。\r\n * @example formatDateToChinese(new Date(\"2000/1/1\"), new Date(\"2000/1/2\")) // \"昨天\"\r\n * @example formatDateToChinese(new Date(\"2000/1/1\"), new Date(\"2000/1/3\")) // \"2 天前\"\r\n */\r\nexport default function formatDateToChinese(date: Date, now = new Date()) {\r\n    if (now >= date && date.getFullYear() === now.getFullYear()) {\r\n        if (date.getMonth() === now.getMonth()) {\r\n            const delta = Math.floor(((now as any) - (date as any)) / 1000);\r\n            if (delta < 1) {\r\n                return `刚刚`;\r\n            }\r\n            if (delta < 60) {\r\n                return `${delta}秒前`;\r\n            }\r\n            if (delta < 60 * 60) {\r\n                return `${Math.floor(delta / 60)}分钟前`;\r\n            }\r\n            if (delta < 60 * 60 * 24) {\r\n                return `${Math.floor(delta / (60 * 60))}小时前`;\r\n            }\r\n            if (delta < 60 * 60 * 24 * 2) {\r\n                return `昨天`;\r\n            }\r\n            return `${Math.floor(delta / (60 * 60 * 24))}天前`;\r\n        }\r\n        return `${date.getMonth() + 1}月${date.getDate()}日`;\r\n    }\r\n    return `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`;\r\n}\r\n"],"mappings":";;IAAA;;;;;;;OAOG;IACH,6BAA4C,IAAU,EAAE,GAAgB;QAAhB,oBAAA,EAAA,UAAU,IAAI,EAAE;QACpE,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE,KAAK,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YAC1D,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACrC,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAE,GAAW,GAAI,IAAY,CAAC,GAAG,IAAI,CAAC,CAAC;gBAChE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;oBACZ,MAAM,CAAC,cAAI,CAAC;gBAChB,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;oBACb,MAAM,CAAI,KAAK,iBAAI,CAAC;gBACxB,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;oBAClB,MAAM,CAAI,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,uBAAK,CAAC;gBAC1C,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;oBACvB,MAAM,CAAI,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,uBAAK,CAAC;gBACjD,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC3B,MAAM,CAAC,cAAI,CAAC;gBAChB,CAAC;gBACD,MAAM,CAAI,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,iBAAI,CAAC;YACrD,CAAC;YACD,MAAM,CAAI,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,cAAI,IAAI,CAAC,OAAO,EAAE,WAAG,CAAC;QACvD,CAAC;QACD,MAAM,CAAI,IAAI,CAAC,WAAW,EAAE,eAAI,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,eAAI,IAAI,CAAC,OAAO,EAAE,WAAG,CAAC;IAC7E,CAAC;IAxBD,sCAwBC"}