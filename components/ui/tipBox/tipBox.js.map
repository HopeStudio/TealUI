{"version":3,"file":"tipBox.js","sources":["tipBox.tsx"],"sourcesContent":["import * as dom from \"web/dom\";\r\nimport Control, { VNode, bind } from \"ui/control\";\r\nimport { getStatus, setStatus } from \"web/status\";\r\nimport \"typo/icon\";\r\nimport \"typo/close\";\r\nimport \"./tipBox.scss\";\r\n\r\n/**\r\n * 表示一个提示框。\r\n */\r\nexport default class TipBox extends Control {\r\n\r\n    protected render() {\r\n        return <div class=\"x-tipbox x-block\">\r\n            <button class=\"x-close x-icon\" title=\"关闭\" aria-label=\"关闭\">✖</button>\r\n            <span class=\"x-tipbox-body\"></span>\r\n        </div>;\r\n    }\r\n\r\n    @bind(\".x-tipbox-body\") body: HTMLElement;\r\n\r\n    /**\r\n     * 是否可关闭。\r\n     */\r\n    get closable() {\r\n        return !dom.isHidden(this.find(\">.x-close\") as HTMLElement);\r\n    }\r\n    set closable(value) {\r\n        dom.toggle(this.find(\">.x-close\") as HTMLElement, value);\r\n    }\r\n\r\n    protected init() {\r\n        dom.on(this.elem, \"click\", \">.x-close\", this.close, this);\r\n    }\r\n\r\n    /**\r\n     * 关闭当前提示框。\r\n     */\r\n    close() {\r\n        dom.hide(this.elem, \"height\", () => {\r\n            dom.remove(this.elem);\r\n            this.onClose && this.onClose(this);\r\n        }, this.duration);\r\n    }\r\n\r\n    /**\r\n     * 关闭事件。\r\n     */\r\n    onClose: (sender: this) => void;\r\n\r\n    /**\r\n     * 状态。\r\n     */\r\n    get status() {\r\n        return getStatus(this.elem, \"x-tipbox-\");\r\n    }\r\n    set status(value) {\r\n        setStatus(this.elem, \"x-tipbox-\", value);\r\n    }\r\n\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;IAOA;;OAEG;IACH;QAAoC,0BAAO;QAA3C;;QAkDA,CAAC;QAhDa,uBAAM,GAAhB;YACI,MAAM,CAAC,gCAAK,KAAK,EAAC,kBAAkB;gBAChC,mCAAQ,KAAK,EAAC,gBAAgB,EAAC,KAAK,EAAC,IAAI,gBAAY,IAAI,aAAW;gBACpE,iCAAM,KAAK,EAAC,eAAe,GAAQ,CACjC,CAAC;QACX,CAAC;QAOD,sBAAI,4BAAQ;YAHZ;;eAEG;iBACH;gBACI,MAAM,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAgB,CAAC,CAAC;YAChE,CAAC;iBACD,UAAa,KAAK;gBACd,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAgB,EAAE,KAAK,CAAC,CAAC;YAC7D,CAAC;;;WAHA;QAKS,qBAAI,GAAd;YACI,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAC9D,CAAC;QAED;;WAEG;QACH,sBAAK,GAAL;YAAA,iBAKC;YAJG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE;gBAC1B,GAAG,CAAC,MAAM,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gBACtB,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,OAAO,CAAC,KAAI,CAAC,CAAC;YACvC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtB,CAAC;QAUD,sBAAI,0BAAM;YAHV;;eAEG;iBACH;gBACI,MAAM,CAAC,kBAAS,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;YAC7C,CAAC;iBACD,UAAW,KAAK;gBACZ,kBAAS,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;YAC7C,CAAC;;;WAHA;QApCuB;YAAvB,cAAI,CAAC,gBAAgB,CAAC;4CAAmB;QAyC9C,aAAC;KAAA,AAlDD,CAAoC,iBAAO,GAkD1C;sBAlDoB,MAAM"}