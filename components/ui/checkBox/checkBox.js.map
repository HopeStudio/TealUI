{"version":3,"file":"checkBox.js","sources":["checkBox.tsx"],"sourcesContent":["import * as dom from \"web/dom\";\r\nimport Control, { VNode, bind } from \"ui/control\";\r\nimport Input from \"ui/input\";\r\nimport \"typo/icon/icon.scss\";\r\nimport \"./checkBox.scss\";\r\n\r\n/**\r\n * 表示一个复选框。\r\n */\r\nexport default class CheckBox extends Input {\r\n\r\n    protected render() {\r\n        return <label class=\"x-checkbox\">\r\n            <input type=\"checkbox\" class=\"x-checkbox-button\" __control__={this as any} />\r\n            <i class=\"x-icon\">☐</i>\r\n            <i class=\"x-icon\">☑</i>\r\n            &nbsp;\r\n        </label>;\r\n    }\r\n\r\n    /**\r\n     * 是否选中。\r\n     */\r\n    @bind(\"@input\", \"checked\") value: boolean;\r\n\r\n    /**\r\n     * 默认是否选中。\r\n     */\r\n    @bind(\"@input\", \"defaultChecked\") defaultValue: boolean;\r\n\r\n    /**\r\n     * 键。\r\n     */\r\n    @bind(\"@input\", \"value\") key: string;\r\n\r\n    /**\r\n     * 第三状态图标。\r\n     */\r\n    threeStateIcon: string;\r\n\r\n    /**\r\n     * 是否启用第三状态。\r\n     */\r\n    get threeState() {\r\n        return (this.find(\".x-icon\") as HTMLElement).innerHTML === this.threeStateIcon;\r\n    }\r\n    set threeState(value) {\r\n        const icon = this.find(\".x-icon\") as HTMLElement;\r\n        if (value) {\r\n            this.value = false;\r\n            (icon as any)._innerHTML = icon.innerHTML;\r\n            icon.innerHTML = this.threeStateIcon;\r\n            dom.on(this.input!, \"change\", this.offThreeState, this);\r\n        } else {\r\n            icon.innerHTML = (icon as any)._innerHTML;\r\n            dom.off(this.input!, \"change\", this.offThreeState, this);\r\n        }\r\n    }\r\n\r\n    private offThreeState() {\r\n        this.threeState = false;\r\n    }\r\n\r\n}\r\n\r\nCheckBox.prototype.threeStateIcon = \"⊞\";\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;IAMA;;OAEG;IACH;QAAsC,4BAAK;QAA3C;;QAsDA,CAAC;QApDa,yBAAM,GAAhB;YACI,MAAM,CAAC,kCAAO,KAAK,EAAC,YAAY;gBAC5B,kCAAO,IAAI,EAAC,UAAU,EAAC,KAAK,EAAC,mBAAmB,EAAC,WAAW,EAAE,IAAW,GAAI;gBAC7E,8BAAG,KAAK,EAAC,QAAQ,aAAM;gBACvB,8BAAG,KAAK,EAAC,QAAQ,aAAM;yBAEnB,CAAC;QACb,CAAC;QAyBD,sBAAI,gCAAU;YAHd;;eAEG;iBACH;gBACI,MAAM,CAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAiB,CAAC,SAAS,KAAK,IAAI,CAAC,cAAc,CAAC;YACnF,CAAC;iBACD,UAAe,KAAK;gBAChB,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAgB,CAAC;gBACjD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACR,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBAClB,IAAY,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;oBACrC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBAC5D,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,SAAS,GAAI,IAAY,CAAC,UAAU,CAAC;oBAC1C,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBAC7D,CAAC;YACL,CAAC;;;WAZA;QAcO,gCAAa,GAArB;YACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5B,CAAC;QAtC0B;YAA1B,cAAI,CAAC,QAAQ,EAAE,SAAS,CAAC;+CAAgB;QAKR;YAAjC,cAAI,CAAC,QAAQ,EAAE,gBAAgB,CAAC;sDAAuB;QAK/B;YAAxB,cAAI,CAAC,QAAQ,EAAE,OAAO,CAAC;6CAAa;QA8BzC,eAAC;KAAA,AAtDD,CAAsC,eAAK,GAsD1C;sBAtDoB,QAAQ;IAwD7B,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,GAAG,CAAC"}