{"version":3,"file":"navMenu.js","sources":["navMenu.tsx"],"sourcesContent":["import * as dom from \"web/dom\";\r\nimport pin from \"web/pin\";\r\nimport Control, { VNode, bind, render } from \"ui/control\";\r\nimport \"typo/icon\";\r\nimport \"./navMenu.scss\";\r\nimport { scrollIntoViewIfNeeded } from \"web/scroll\";\r\nimport \"ui/popup\";\r\n\r\n/**\r\n * 表示一个导航菜单。\r\n */\r\nexport default class NavMenu extends Control {\r\n\r\n    /**\r\n     * 选择项事件。\r\n     * @param item 要选择的菜单项。\r\n     * @param e 事件。\r\n     * @param sender 事件源。\r\n     */\r\n    onSelect: (item: HTMLElement, e: MouseEvent | undefined, sender: this) => boolean | void;\r\n\r\n    /**\r\n     * 选中项改变事件。\r\n     * @param e 事件。\r\n     * @param sender 事件源。\r\n     */\r\n    onChange: (e: MouseEvent | undefined, sender: this) => void;\r\n\r\n    /**\r\n     * 切换折叠事件。\r\n     * @param e 事件。\r\n     * @param sender 事件源。\r\n     */\r\n    onCollapseChange: (e: MouseEvent | undefined, sender: this) => void;\r\n\r\n    /**\r\n     * 切换项折叠事件。\r\n     * @param item 项。\r\n     * @param e 事件。\r\n     * @param sender 事件源。\r\n     */\r\n    onItemCollapseChange: (item: HTMLElement, e: MouseEvent | undefined, sender: this) => void;\r\n\r\n    protected render() {\r\n        return <ul class=\"x-navmenu\"></ul>;\r\n    }\r\n\r\n    protected init() {\r\n        dom.on(this.elem, \"click\", \"li\", this.handleItemClick, this);\r\n    }\r\n\r\n    /**\r\n     * 点击项事件。\r\n     * @param e 事件。\r\n     * @param item 要选择的菜单项。\r\n     */\r\n    protected handleItemClick(e: MouseEvent, item: HTMLElement) {\r\n        this.selectItem(item, e);\r\n    }\r\n\r\n    private _items: NavMenuItem[];\r\n\r\n    /**\r\n     * 菜单数据。\r\n     */\r\n    get items() {\r\n        return this._items;\r\n    }\r\n    set items(value) {\r\n        this._items = value;\r\n        this.buildMenu(value).forEach(item => {\r\n            render(this.body, item);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 从数据创建菜单项。\r\n     * @param items 要创建的菜单项。\r\n     * @return 返回每个菜单节点。\r\n     */\r\n    protected buildMenu(items: NavMenuItem[]): any[] {\r\n        return items.map(item => <li class={`${item.children ? \"x-navmenu-collapsable\" : \"\"}${item.collapsed !== false ? \" x-navmenu-collapsed\" : \"\"}${item.selected ? \" x-navmenu-selected\" : \"\"}`}>\r\n            <a href={item.href || \"javascript:;\"} target={item.target || (/\\/\\//.test(item.href!) ? \"_blank\" : \"_self\")} title={item.title || item.content}>\r\n                {item.icon ? <i class=\"x-icon\">{item.icon}</i> : null}\r\n                <span>{item.content}</span>\r\n            </a>\r\n            {item.children ? <ul>{this.buildMenu(item.children)}</ul> : null}\r\n        </li>);\r\n    }\r\n\r\n    /**\r\n     * 当前选中项。\r\n     * @desc 项是一个 `<li>` 节点。\r\n     */\r\n    get selectedItem() {\r\n        return dom.find(this.elem, \".x-navmenu-selected\");\r\n    }\r\n    set selectedItem(value) {\r\n        dom.query(this.elem, \".x-navmenu-selected\").forEach(elem => {\r\n            dom.removeClass(elem, \"x-navmenu-selected\");\r\n        });\r\n        if (value) {\r\n            dom.addClass(value, \"x-navmenu-selected\");\r\n            for (let node = value; node; node = node.parentNode as HTMLElement) {\r\n                if (dom.hasClass(node, \"x-navmenu-collapsable\")) {\r\n                    dom.removeClass(node, \"x-navmenu-collapsed\");\r\n                    dom.addClass(node, \"x-navmenu-selected\");\r\n                    if (!this.collapsed) {\r\n                        dom.show(dom.last(node)!);\r\n                    }\r\n                }\r\n            }\r\n            scrollIntoViewIfNeeded(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 选择项。\r\n     * @param item 要选择的菜单项。\r\n     * @param e 事件。\r\n     * @return 如果选择成功则返回 true，否则返回 false。\r\n     */\r\n    selectItem(item: HTMLElement, e?: MouseEvent) {\r\n        if (this.onSelect && this.onSelect(item, e, this) === false) {\r\n            return false;\r\n        }\r\n        if (dom.hasClass(item, \"x-navmenu-collapsable\")) {\r\n            this.toggleItemCollapse(item);\r\n            return false;\r\n        }\r\n        if (dom.hasClass(item, \"x-navmenu-selected\")) {\r\n            return false;\r\n        }\r\n        this.selectedItem = item;\r\n        if (this.collapsed) {\r\n            this.handleItemPointerLeave(e!, dom.closest(item, \".x-navmenu>li\")!);\r\n        }\r\n        this.onChange && this.onChange(e, this);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 切换项的折叠状态。\r\n     * @param item 项。\r\n     * @param e 事件。\r\n     */\r\n    toggleItemCollapse(item: HTMLElement, e?: MouseEvent) {\r\n        const collapse = !dom.hasClass(item, \"x-navmenu-collapsed\");\r\n        dom.addClass(item, \"x-navmenu-collapsing\");\r\n        dom.toggleClass(item, \"x-navmenu-collapsed\", collapse);\r\n        dom.toggle(dom.last(item)!, !collapse, \"height\", () => {\r\n            dom.removeClass(item, \"x-navmenu-collapsing\");\r\n        }, this.duration);\r\n        this.onItemCollapseChange && this.onItemCollapseChange(item, e, this);\r\n    }\r\n\r\n    /**\r\n     * 是否折叠整个菜单。\r\n     */\r\n    get collapsed() {\r\n        return dom.hasClass(this.elem, \"x-navmenu-collapsed\");\r\n    }\r\n    set collapsed(value) {\r\n        dom.toggleClass(this.elem, \"x-navmenu-collapsed\", value);\r\n        if (value) {\r\n            dom.on(this.elem, \"pointerenter\", \">li\", this.handleItemPointerEnter, this);\r\n            dom.on(this.elem, \"pointerleave\", \">li\", this.handleItemPointerLeave, this);\r\n        } else {\r\n            dom.off(this.elem, \"pointerenter\", \">li\", this.handleItemPointerEnter, this);\r\n            dom.off(this.elem, \"pointerleave\", \">li\", this.handleItemPointerLeave, this);\r\n            this.query(\"ul\").forEach((elem: HTMLElement) => elem.style.cssText = \"\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 鼠标移入折叠项事件。\r\n     */\r\n    protected handleItemPointerEnter(e: MouseEvent, item: HTMLElement) {\r\n        if (dom.hasClass(item, \"x-navmenu-collapsable\")) {\r\n            const ul = dom.last(item)! as HTMLElement;\r\n            dom.addClass(ul, \"x-popup\");\r\n            dom.show(ul);\r\n            pin(ul, dom.first(item)!, \"rightTop\", 1, document);\r\n            dom.show(ul, \"zoomOut\", undefined, this.duration, undefined, item);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 鼠标移出折叠项事件。\r\n     */\r\n    protected handleItemPointerLeave(e: MouseEvent, item: HTMLElement) {\r\n        if (dom.hasClass(item, \"x-navmenu-collapsable\")) {\r\n            const ul = dom.last(item)!;\r\n            dom.hide(ul, \"zoomOut\", () => {\r\n                dom.removeClass(ul, \"x-popup\");\r\n            }, this.duration, undefined, item);\r\n        }\r\n    }\r\n\r\n    private _knownWidth?: string | null;\r\n\r\n    /**\r\n     * 切换菜单折叠。\r\n     * @param e 事件。\r\n     */\r\n    toggleCollapse(e?: MouseEvent) {\r\n        const expand = this.collapsed;\r\n        let newWidth: any;\r\n        if (expand) {\r\n            const width = this.elem.offsetWidth;\r\n            this.collapsed = false;\r\n            newWidth = this._knownWidth || this.elem.offsetWidth;\r\n            dom.setStyle(this.elem, \"width\", width);\r\n            this.query(\".x-popup\").forEach((elem: HTMLElement) => {\r\n                dom.removeClass(elem, \"x-popup\");\r\n            });\r\n        } else {\r\n            this._knownWidth = this.elem.style.width;\r\n            this.collapsed = true;\r\n            this.elem.style.width = \"\";\r\n            newWidth = this.elem.offsetWidth;\r\n            this.elem.style.width = this._knownWidth;\r\n            this.collapsed = false;\r\n        }\r\n        dom.addClass(this.elem, \"x-navmenu-collapsing\");\r\n        dom.animate(this.elem, { width: newWidth }, () => {\r\n            dom.removeClass(this.elem, \"x-navmenu-collapsing\");\r\n            dom.setStyle(this.elem, \"width\", expand && this._knownWidth || \"\");\r\n            if (!expand) {\r\n                this.collapsed = true;\r\n            }\r\n        }, this.duration);\r\n        dom.query(this.elem, \".x-navmenu-collapsable:not(.x-navmenu-collapsed)>ul\").forEach(item => {\r\n            dom.toggle(item, expand, \"height\", () => {\r\n                item.style.display = \"\";\r\n            }, this.duration);\r\n        });\r\n        this.onCollapseChange && this.onCollapseChange(e, this);\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 表示一个菜单项。\r\n */\r\nexport interface NavMenuItem {\r\n\r\n    /**\r\n     * 图标。\r\n     */\r\n    icon?: string;\r\n\r\n    /**\r\n     * 标题。\r\n     */\r\n    content?: string;\r\n\r\n    /**\r\n     * 链接地址。\r\n     */\r\n    href?: string;\r\n\r\n    /**\r\n     * 链接目标。\r\n     */\r\n    target?: string;\r\n\r\n    /**\r\n     * 标题。\r\n     */\r\n    title?: string;\r\n\r\n    /**\r\n     * 是否默认折叠。\r\n     */\r\n    collapsed?: boolean;\r\n\r\n    /**\r\n     * 是否默认选中。\r\n     */\r\n    selected?: boolean;\r\n\r\n    /**\r\n     * 子菜单。\r\n     */\r\n    children?: NavMenuItem[];\r\n\r\n}\r\n"],"mappings":"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"}