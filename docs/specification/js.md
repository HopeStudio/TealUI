JavaScript 编码规范
========================================================
我们尊重每位作者的编码习惯，
所以我们并未在编码风格上作太多限制。
我们只是纠正那些容易诱发错误的编码方式。

格式
--------------------------------------------------------
我们不要求作者在编码时统一所有格式，我们相信格式化工具可以统一所有格式。

### 缩进
您可以使用 4 个空格（**建议**）、1 个 Tab或 2 个空格创建缩进。

**建议**为标签语句减少一层缩进，如：
```js
function main() {
    var foo = 1;
label:
    while(foo) { 
        // ...
    }
}
```

### 空格
**建议**在双目运算符两边各添加一个空格，
在单目后缀运算符后添加一个空格。
如：
```js
var foo = !(e * a) + b + ++a - a++;
```

**不建议**在函数名后追加空格，**不建议**在参数列表内部追加空格：
```js
function a(c, d) { }
```

**建议**只在对象的键值对的冒号后追加空格：
```js
var obj = {
    key: [2, {}]
};
```

**建议**在条件语句括号两边追加空格：
```js
if (true) {
    //...
}
```

### 换行
您可以使用 Unix 风格(\n)（**建议**）或 Windows 风格(\r\n)换行。

**建议**将超过 80 或 120 个字符的代码拆为多行。
拆分时，**建议**将单目运算符(如`.`)置于新行，将其它运算符置于原行末尾。
如：
```js
var foo = $('.something')
    .attr("foo", "value")
    .css("color", "value");
```
```js
var foo = a ? b :
    "somthing long long long" +
    "somthing long long long";
```

### 逗号
**建议**将逗号置于行尾：
```js
var foo = 1,
    bar = 2,
    baz = 3;
```
```js
var obj = {
    foo: 1,
    bar: 2,
    baz: 3
};
```

### 小括号
在运算符优先级明确的时候**不建议**使用括号。
如不建议：
```js
typeof(value)
```
```js
(a * f) - 5
```

当判断条件为赋值表达式时，**建议**追加括号:
```js
if((a = b)) { } // 追加括号表示此处不是误将 == 写成 =。
```

立即执行的函数应追加括号:
```js
(function() {

})();
```

### 大括号
大括号 `{` 的位置，可以放在行末(**建议**)或另起新行。

注释
--------------------------------------------------------
1. 遵循 JSDoc `/** */` 规范作为文档注释。
2. 只有在以下情况使用多行注释`/* */`：
    - 包含文档注释。
    - 包含版权申明。
    - 包含代码片段。
3. 您可以将 `//` 注释放在代码的末尾或顶部。如：
```js
// 变量1
var a = 2;
```
或
```js
var a = 2; // 变量1
```

命名
--------------------------------------------------------
命名规则有 3 种：

- 骆驼规则：除第一个单词，其它各单词首字母大写。如 `fileName`。
- PASCAL 规则：各单词首字母大写。如 `FileName`。
- 全大写：所有字符大写，单词用下划线连接。如 `FILE_NAME`。

### 命名规则
- 局部变量、参数和函数名：使用骆驼规则。
- 类的私有成员：带`_`前缀的骆驼规则。
- 类(即需要 `new` 才能使用的函数)、对象名和名字空间使用 PASCAL 规则。
- 常量名使用 PASCAL 规则或全大写。
- 系统辅助对象(如因是关键字或保留字而不得不更名的对象，或者需要在其它对象创建的避免发生同名的成员)：使用 `$` 前缀的骆驼规则。

### 固定命名
- **不允许**对单词随便缩写，除了熟悉的缩写和 HTML 内出现过的缩写，原则上保留单词的全拼。
- 临时保存 `this`，使用变量 `me`。
- 临时保存 `arguments`，使用变量 `args`。
- 首先遵守 Javascript 本身的语言命名规则，然后遵守其它库和语言的命名，最后按照作者的风格命名。
- 原则上方法名应该是动宾结构，属性和字段名是定主结构。

语句
--------------------------------------------------------
### 语句末尾
为每个语句增加分号。
多个语句应分行编写。

### 变量声明
所有变量**应该**使用 var 声明，**不建议**合并多个 var。
```js
var a = 2;
var b = 1;
```

变量声明**应该**采用就近原则，在第一次使用的位置声明。
如只在 for 循环内使用的变量，放在 for 内部声明。
```js
for(var a in b) { }
```

同一个变量不能有多次声明。如下代码是不允许的：
```js
if(true){
    var a = 1;
} else {
    var a = 2;
}
alert(a);
```

正确的做法是：

```js
var a;
if(true){
    a = 1;
} else {
    a = 2;
}
alert(a);
```

### 标签和块
**应该**删除从不使用的标签。**应该**多余的 `{}` 语句块。
不强制要求为单行语句添加 `{}`，您可以根据习惯决定。

### `with` 语句
不要使用 `with` 语句。

### `if` 语句
允许使用 `&&` 和 `||` 代替 `if` 语句。
尽量使用三目运算符，而不是 `if` 语句。

### 无限循环
建议使用 `while(true) {...}` 表示无限循环。
在 `for ( ;true; )` 中，`true` 应该不写。

### 异常
不要通过捕获已知错误的方式实现逻辑。任何对象都可以作为异常抛出。建议抛出 Error 及继承对象 或 字符串。

### 严格模式
如果您需要使用严格模式，建议在所在函数内声明。

不建议：
```js
'use strict';
     
(function(){
    // Your code starts here
}());
```

建议：
```js
(function(){
    'use strict';
    // Your code starts here
}());
```

表达式
--------------------------------------------------------
### 字符串引号
如果字符串内容是一个 HTML 字符串，则字符串**建议**使用 `'`，以便 HTML 内可以使用 `"`。其它情况**建议**优先使用 `"`。

### 比较运算
尽量使用严格比较运算 `===` 和 `!==`。

### 对象和数组
使用 `{}` 替代 `new Object()`。
使用 `[]` 替代 `new Array()`。

### 动态执行
尽量不要使用 `eval` 函数和 `Function` 函数。
  
### 闭包
没有限制。如果出现 10 层以上的闭包，建议您检查代码质量。

### 多行字符串
可以使用两种格式之一：（第1种不属于语言标准，但它被目前全部浏览器支持）
```js
var a = 'a\

     c'
```
```js
var a = 'a\n' + \
     'c'
```

### 常量的属性选择
常量属性名应该使用 `.` 操作符，而不是 `[]` 操作符。

### `new` 表达式
`new` 表达式后可以任意选择是否加括号。

### 逻辑操作
禁止将逻辑操作换成位操作，比如用 `|` 代替 `||` 是错误的。
