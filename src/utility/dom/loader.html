<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>动态载入</title>
    <meta name="module-info" content="">
    <meta name="author" content="xuld@vip.qq.com">
    <meta name="description" content="动态载入各类资源。">

    <!-- 以下是本组件的全部源码 -->
    <script type="text/javascript" src="../../utility/dom/loader.js"></script>
    <script type="text/javascript" src="../../utility/dom/preload.js"></script>
    <script type="text/javascript" src="../../utility/dom/base.js"></script>
    <script type="text/javascript" src="../../utility/dom/scrollShow.js"></script>
    <script type="text/javascript" src="../../utility/dom/lazyLoad.js"></script>
    <script type="text/javascript" src="../../utility/dom/loadHtml.js"></script>
</head>
<body>
    <!-- 以下代码仅用于文档演示 -->
    <script type="text/javascript" src="../../../assets/doc.js"></script>

    <h2>加载资源文件 <small>(源码: <a href="../../utility/dom/loader.js" target="_blank">utility/dom/loader.js</a>)</small></h2>
    <table class="doc-table">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><code>Loader.loadScript</code></td>
            <td>动态载入脚本</td>
            <td><pre>Loader.loadScript("../../assets/resources/ajax/test.js", function(){})</pre></td>
        </tr>
        <tr>
            <td><code>Loader.loadStyle</code></td>
            <td>动态载入样式</td>
            <td><pre>Loader.loadStyle("../../assets/resources/ajax/test.css", function(){})</pre></td>
        </tr>
        <tr>
            <td><code>Loader.loadImage</code></td>
            <td>动态载入图片</td>
            <td><pre>Loader.loadImage("../../assets/resources/200x150.png", trace)</pre></td>
        </tr>
        <tr>
            <td><code>Loader.loadImages</code></td>
            <td>动态载入所有图片</td>
            <td><pre>Loader.loadImages(["../../assets/resources/200x150.png", "../../assets/resources/100x100.png"], trace)</pre></td>
        </tr>
    </table>

    <h2>图片预加载 <small>(源码: <a href="../../utility/dom/preload.js" target="_blank">utility/dom/preload.js</a>)</small></h2>
    <table class="doc-table">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><code>preload</code></td>
            <td>预加载一个图片，比如防止 css 刷新时因为图片加载导致的空白闪动</td>
            <td><pre>preload("../../assets/resources/200x150.png")</pre></td>
        </tr>
    </table>

    <h2>图片懒加载 <small>(源码: <a href="../../utility/dom/lazyLoad.js" target="_blank">utility/dom/lazyLoad.js</a>)</small></h2>
    <aside class="doc-demo">
        <img data-src="../../../assets/resources/100x100.png" alt="加载中...">
        <script>
            $('img[data-src]').lazyLoad();
        </script>
    </aside>
    <table class="doc-table">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><code><em>dom</em>.lazyLoad</code></td>
            <td>滚动之后再加载图片</td>
            <td class="doc">
                <h5>基本用法</h5>
                <pre>$('img[data-src]').lazyLoad();</pre>
                <h5>自定义加载图片地址</h5>
                <pre>$('img[data-src]').lazyLoad(function(){ return $(this).attr('data-src'); });</pre>
            </td>
        </tr>
    </table>

    <h2>加载 HTML <small>(源码: <a href="../../utility/dom/loadHtml.js" target="_blank">utility/dom/loadHtml.js</a>)</small></h2>
    <div id="a"></div>
    <table class="doc-table">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><code>preload</code></td>
            <td>预加载一个图片，比如防止 css 刷新时因为图片加载导致的空白闪动</td>
            <td><pre>$('#a').loadHtml("../../../assets/resources/ajax/test.txt")</pre></td>
        </tr>
    </table>
</body>
</html>
