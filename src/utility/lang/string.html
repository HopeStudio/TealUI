<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>字符串扩展</title>
    <meta name="module-info" content="order=array">
    <meta name="author" content="xuld@vip.qq.com">
    <meta name="description" content="扩展 String 相关的 API。">
    <!-- 以下是本组件的全部源码 -->
    <script type="text/javascript" src="../../utility/lang/html5.js"></script>
    <script type="text/javascript" src="../../utility/lang/string.js"></script>
    <script type="text/javascript" src="../../utility/lang/stringEx.js"></script>
</head>
<body>
    <!-- 以下代码仅用于文档演示 -->
    <script type="text/javascript" src="../../../assets/doc.js"></script>
    <h2>标准 API <small>(源码: <a href="../../utility/lang/html5.js" target="_blank">utility/lang/html5.js</a>)</small></h2>
    <p>以下 API 由于使用频率高已被移入 <a href="../lang/html5.html#string">HTML5 兼容补丁</a> 组件。</p>
    <table class="doc-api">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><small>(ES5)</small><code><em>str</em>.trim</code></td>
            <td>删除字符串头尾空白</td>
            <td><pre>"".trim();</pre></td>
        </tr>
    </table>

    <script>
        Doc.writeApi({
            title: "标准 API",
            url: "utility/lang/html5.js",
            summary: '<p>以下 API 由于使用频率高已被移入 <a href="../lang/html5.html#array">HTML5 兼容补丁</a>。</p>',
            apis: [{
                memberOf: "String.prototype",
                name: "trim",
                summary: "<p>去除字符串的首尾空格。</p>",
                returns: {
                    type: "String",
                    summary: "<p>返回新字符串。</p>"
                },
                example: "<pre>\"   g h   \".trim(); // \"g h\"</pre>",
                since: "ES5",
                line: 104,
                col: 1
            }]
        });
    </script>

    <script>
        Doc.writeApi({
            title: "常用 API",
            url: "utility/lang/string.js",
            apis: [{
                memberOf: "String",
                name: "format",
                summary: "<p>格式化指定的字符串。</p>",
                params: [{
                    type: "String",
                    name: "format",
                    summary: "<p>格式字符串。具体见下文。</p>"
                }, {
                    type: "Object",
                    name: "...",
                    summary: "<p>格式化参数。</p>"
                }],
                returns: {
                    type: "String",
                    summary: "<p>返回格式化后的字符串。</p>"
                },
                remark: "<h4>格式化语法</h4>\n\
\n\
<p>格式字符串中，以下内容会被替换：</p>\n\
\n\
<table>\n\
<thead>\n\
<tr>\n\
  <th>元字符</th>\n\
  <th>意义</th>\n\
  <th>示例</th>\n\
</tr>\n\
</thead>\n\
<tr>\n\
  <td>{数字}</td>\n\
  <td>替换为参数列表</td>\n\
  <td>如 <code>String.format(\"{0}年{1}月{2}日\", 2012, 12, 3)</code> 中，{0} 被替换成 2012，{1} 被替换成 12 ，依次类推。</td>\n\
</tr>\n\
<tr>\n\
  <td>{字符串}</td>\n\
  <td>替换为参数对象</td>\n\
  <td>如 <code>String.format(\"{year}年{month} 月 \", {year: 2012, month:12})</code>。</td>\n\
</tr>\n\
<tr>\n\
  <td>{{</td>\n\
  <td>被替换为 {</td>\n\
  <td></td>\n\
</tr>\n\
<tr>\n\
  <td>}}</td>\n\
  <td>被替换为 }</td>\n\
  <td></td>\n\
</tr>\n\
</table>\n\
",
                example: "<pre>String.format(\"我是{0}，不是{1}\", \"小黑\", \"大白\"); // \"我是小黑，不是大白\"</pre>\n\
\n\
<pre>String.format(\"我是{xiaohei}，不是{dabai}\", {xiaohei: \"小黑\", dabai: \"大白\"}); // \"我是小黑，不是大白\"</pre>\n\
\n\
<pre>String.format(\"在字符串内使用两个{{和}}避免被转换\"); //  \"在字符串内使用两个{和}避免被转换\"</pre>",
                line: 8,
                col: 1
            }]
        });
    </script>

    <h2>不常用 API <small>(源码: <a href="../../utility/lang/stringEx.js" target="_blank">utility/lang/stringEx.js</a>)</small></h2>
    <table class="doc-api">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><code>String.isString</code></td>
            <td>判断是否是字符串</td>
            <td><pre>String.isString("");</pre></td>
        </tr>
        <tr>
            <td><code>String.ellipsis</code></td>
            <td>将字符串限定在指定长度内，超出部分用 ... 代替</td>
            <td>
                <pre>
                    String.ellipsis("1234567", 6); //   "123..."
                    String.ellipsis("1234567", 9); //   "1234567"
                </pre>
            </td>
        </tr>
        <tr>
            <td><code>String.ellipsisByWord</code></td>
            <td>将字符串限定在指定长度内，超出部分用 ... 代替。不强制分割单词</td>
            <td><pre>String.ellipsisByWord("1234567", 6);</pre></td>
        </tr>
        <tr>
            <td><code>String.containsWord</code></td>
            <td>判断字符串是否包含指定单词</td>
            <td><pre>String.containsWord("abc ab", "ab");</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.replaceAll</code></td>
            <td>替换字符串内全部子字符串</td>
            <td><pre>"1111".replaceAll("1", "3");</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.trimStart</code></td>
            <td>去除字符串开始空格</td>
            <td><pre>"1234567".trimStart();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.trimEnd</code></td>
            <td>去除字符串结尾空格</td>
            <td><pre>"1234567".trimEnd();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.startsWith</code></td>
            <td>判断字符串是否以某个特定字符串开头</td>
            <td><pre>"1234567".startsWith("123");</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.endsWith</code></td>
            <td>判断字符串是否以某个特定字符串结尾</td>
            <td><pre>"1234567".endsWith("67");</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.clean</code></td>
            <td>删除字符串内所有空格</td>
            <td><pre>"1234567".clean();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.byteLength</code></td>
            <td>获得字符字节长度，中文算 2 个字符</td>
            <td><pre>"a中文".byteLength();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.unique</code></td>
            <td>删除字符串的重复字符</td>
            <td><pre>"1234567".unique();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.repeat</code></td>
            <td>重复当前字符串内容指定次数</td>
            <td><pre>"1234567".repeat(6);</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.capitalize</code></td>
            <td>将字符串首字母大写</td>
            <td><pre>"a".capitalize();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.uncapitalize</code></td>
            <td>将字符串首字母小写</td>
            <td><pre>"A".uncapitalize();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.toCamelCase</code></td>
            <td>将字符串转为骆驼规则</td>
            <td><pre>"a".toCamelCase();</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.left</code></td>
            <td>获取字符串左边指定长度的子字符串</td>
            <td><pre>"a".left(4);</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.right</code></td>
            <td>获取字符串右边指定长度的子字符串</td>
            <td><pre>"a".right(4);</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.padLeft</code></td>
            <td>补齐字符串左边空白</td>
            <td><pre>"A".padLeft(4, '0');</pre></td>
        </tr>
        <tr>
            <td><code><em>str</em>.padRight</code></td>
            <td>补齐字符串右边空白</td>
            <td><pre>"A".padRight(4, '0');</pre></td>
        </tr>
    </table>
</body>
</html>
