<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>对象扩展</title>
    <meta name="module-info" content="parent-parent-title=JS 函数库, parent-parent-order=control, parent-title=语言扩展, parent-order=^, order=^">
    <meta name="author" content="xuld@vip.qq.com">
    <meta name="description" content="扩展 Object 相关的 API。">
    <!-- 以下是本组件的全部源码 -->
    <script type="text/javascript" src="../../utility/lang/object.js"></script>
    <script type="text/javascript" src="../../utility/lang/objectEx.js"></script>
</head>
<body>
    <!-- 以下代码仅用于文档演示 -->
    <script type="text/javascript" src="../../../assets/doc.js"></script>
    <h2>常用 API <small>(源码: <a href="../../utility/lang/object.js" target="_blank">utility/lang/object.js</a>)</small></h2>
    <table class="doc-table">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><small>(ES6)</small><code>Object.assign</code></td>
            <td>复制所有成员</td>
            <td><pre>Object.assign({}, {a: 1});</pre></td>
        </tr>
        <tr>
            <td><code>Object.each</code></td>
            <td>遍历对象或数组</td>
            <td>
                <pre>
                    Object.each([1, 2, 3], function(item, index){
                        console.log(index, "=>", item);
                    });
                </pre>
                <pre>
                    Object.each({a:1, b: 2}, function(item, key){
                        console.log(key, "=>", item);
                    });
                </pre>
            </td>
        </tr>
    </table>

    <script>
        Doc.writeApi({
            url: "src/utility/lang/object.js",
            title: "API",
            apis: [{
                summary: "<p>复制对象的所有属性到其它对象。</p>",
                params: [{
                    type: "Object",
                    name: "target",
                    summary: "<p>复制的目标对象。</p>"
                }, {
                    type: "Object",
                    name: "source",
                    summary: "<p>复制的源对象。</p>"
                }],
                returns: {
                    type: "Object",
                    summary: "<p>返回 <em>target</em>。</p>"
                },
                example: "<pre>var a = {v: 3}, b = {g: 2};\
Object.assign(a, b); // a 现在是 {v: 3, g: 2}</pre>",
                since: "ES6",
                memberOf: "Object",
                name: "assign",
                line: 7,
                col: 1
            }, {
                summary: "<p>遍历一个对象或数组，并对每个元素执行函数 <em>fn</em>。</p>",
                params: [{
                    type: "Object",
                    name: "iterable",
                    summary: "<p>要遍历的数组或对象（函数除外）。</p>"
                }, {
                    type: "Function",
                    name: "fn",
                    summary: "<p>对每个元素运行的函数。函数的参数依次为:</p>\
\
<ul>\
<li>value: <code>Object</code> 当前元素的值。</li>\
<li>index: <code>Number</code> 当前元素的索引。</li>\
<li>array: <code>Array</code> 当前正在遍历的数组。</li>\
<li>返回值: <code>Boolean</code> 如果返回 <strong>false</strong> 则终止循环。</li>\
</ul>"
                }, {
                    type: "Object",
                    name: "scope",
                    optional: true,
                    summary: "<p>定义 <em>fn</em> 执行时 <strong>this</strong> 的值。</p>"
                }],
                returns: {
                    type: "Boolean",
                    summary: "<p>如果循环是因为 <em>fn</em> 返回 <strong>false</strong> 而中止，则返回 <strong>false</strong>，否则返回 <strong>true</strong>。</p>"
                },
                example: "<pre>Object.each({a: '1', c: '3'}, function (value, key) {\
        console.log(key + ' : ' + value);\
}); // 输出 'a : 1' 'c : 3'</pre>\
\
<pre>Object.each([1, 2, 3], function(item, index){\
    console.log(index, \"=>\", item);\
});</pre>",
                since: "ES6",
                memberOf: "Object",
                name: "each",
                line: 28,
                col: 1
            }]
        })
    </script>

    <h2>不常用 API <small>(源码: <a href="../../utility/lang/objectEx.js" target="_blank">utility/lang/objectEx.js</a>)</small></h2>
    <table class="doc-table">
        <tr>
            <th>API</th>
            <th>描述</th>
            <th>示例</th>
        </tr>
        <tr>
            <td><code>Object.type</code></td>
            <td>获取类型</td>
            <td><pre>Object.type(1);</pre></td>
        </tr>
        <tr>
            <td><code>Object.isEmpty</code></td>
            <td>判断一个变量是否空</td>
            <td><pre>Object.isEmpty({});</pre></td>
        </tr>
        <tr>
            <td><code>Object.isObject</code></td>
            <td>判断是否是对象</td>
            <td><pre>Object.isObject({});</pre></td>
        </tr>
        <tr>
            <td><code>Object.assignIf</code></td>
            <td>复制所有成员，但不覆盖已存在的成员</td>
            <td><pre>Object.assignIf({}, {a: 1});</pre></td>
        </tr>
        <tr>
            <td><code>Object.clone</code></td>
            <td>对象深拷贝</td>
            <td><pre>Object.clone(['a', 'b']);</pre></td>
        </tr>
        <tr>
            <td><code>Object.count</code></td>
            <td>获取对象的属性数</td>
            <td><pre>Object.count({a:1});</pre></td>
        </tr>
        <tr>
            <td><small>(ES5)</small><code>Object.keys</code></td>
            <td>获取对象的键</td>
            <td><pre>Object.keys({a:1});</pre></td>
        </tr>
        <tr>
            <td><code>Object.values</code></td>
            <td>获取对象的值</td>
            <td><pre>Object.values({a:1});</pre></td>
        </tr>
        <tr>
            <td><code>Object.keyOf</code></td>
            <td>根据值获取键</td>
            <td><pre>Object.keyOf({a:1}, 1);</pre></td>
        </tr>
        <tr>
            <td><code>Object.insertBefore</code></td>
            <td>在指定位置插入键</td>
            <td><pre>Object.insertBefore({a:1}, 'a', 'b', 2); // {b:2, a: 1}</pre></td>
        </tr>
        <tr>
            <td><code>Object.map</code></td>
            <td>对象更新为新对象</td>
            <td><pre>Object.map(['a', 'b'], function(a){return a + a;});</pre></td>
        </tr>
        <tr>
            <td><code>Object.filter</code></td>
            <td>对象更新为新对象</td>
            <td><pre>Object.filter(['a', 'b'], function(a){return 3;});</pre></td>
        </tr>
        <tr>
            <td><code>Object.every</code></td>
            <td>判断对象是否都满足要求</td>
            <td><pre>Object.every(['a', 'b'], function(a){return true;});</pre></td>
        </tr>
        <tr>
            <td><code>Object.some</code></td>
            <td>判断对象是否有满足要求</td>
            <td><pre>Object.some(['a', 'b'], function(a){return true;});</pre></td>
        </tr>
        <tr>
            <td><code>Object.subset</code></td>
            <td>获取对象指定键的子集</td>
            <td><pre>Object.subset({a:1}, 'a');</pre></td>
        </tr>
        <tr>
            <td><code>Object.pick</code></td>
            <td>获取参数中第一个不为空的值</td>
            <td><pre>Object.pick(undefined, 1); // 1</pre></td>
        </tr>
    </table>
</body>
</html>
